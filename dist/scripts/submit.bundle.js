!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=348)}({107:function(e,t,i){(function(t){i(108);e.exports={showLoading:()=>{t("#mask").show()},hideLoading:()=>{t("#mask").hide()}}}).call(t,i(2))},108:function(e,t){},149:function(e,t,i){(function(e){!function(){var t,i,n;i=!1,n=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/,(t=function(){}).extend=function e(t){var r=this.prototype;i=!0;var s=new this;for(var o in i=!1,t)s[o]="function"==typeof t[o]&&"function"==typeof r[o]&&n.test(t[o])?function(e,t){return function(){var i=this._super;this._super=r[e];var n=t.apply(this,arguments);return this._super=i,n}}(o,t[o]):t[o];function a(){!i&&this.init&&this.init.apply(this,arguments)}return a.prototype=s,a.prototype.constructor=a,a.extend=e,a},function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),s=window.setTimeout(function(){t(n+r)},r);return e=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var r=function(e){var t,i,n,s;for(i=1;i<arguments.length;i++)for(n in t=arguments[i])t.hasOwnProperty(n)&&(!t[n]||("object"!=typeof(s=t[n])||s.nodeType||null!==s&&s===s.window||s.constructor&&!Object.prototype.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))?e[n]=t[n]:(e.hasOwnProperty(n)||(e[n]={}),r(e[n],t[n])));return e},s=function(e,t){var i;if(e&&"object"==typeof e)if(Array.isArray(e)||"number"==typeof e.length&&e.length>0&&e.length-1 in e){for(i=0;i<e.length;i++)if(!1===t(i,e[i]))return}else if(Object.keys){var n=Object.keys(e);for(i=0;i<n.length;i++)if(!1===t(n[i],e[n[i]]))return}else for(i in e)if(e.hasOwnProperty(i)&&!1===t(i,e[i]))return},o=function(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)},a=function(e,t){if(!(e instanceof Element))throw new Error("element should be an instance of Element");t=r({},a.defaults.options,t||{}),this.element=e,this.options=t,this.init()};a.prototype={constructor:a,init:function(){var e=this;this.ready=!1;var t=a.defaults.themes[this.options.theme||a.defaults.theme];if(!t)throw"Unknown theme "+(this.options.theme||a.defaults.theme);this.schema=this.options.schema,this.theme=new t,this.template=this.options.template,this.refs=this.options.refs||{},this.uuid=0,this.__data={};var i=a.defaults.iconlibs[this.options.iconlib||a.defaults.iconlib];i&&(this.iconlib=new i),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||a.defaults.translate,this._loadExternalRefs(this.schema,function(){e._getDefinitions(e.schema);var t={};e.options.custom_validators&&(t.custom_validators=e.options.custom_validators),e.validator=new a.Validator(e,null,t);var i=e.getEditorClass(e.schema);e.root=e.createEditor(i,{jsoneditor:e,schema:e.schema,required:!0,container:e.root_container}),e.root.preBuild(),e.root.build(),e.root.postBuild(),e.options.startval&&e.root.setValue(e.options.startval),e.validation_results=e.validator.validate(e.root.getValue()),e.root.showValidationErrors(e.validation_results),e.ready=!0,window.requestAnimationFrame(function(){e.ready&&(e.validation_results=e.validator.validate(e.root.getValue()),e.root.showValidationErrors(e.validation_results),e.trigger("ready"),e.trigger("change"))})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(e){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(e),this},validate:function(e){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return 1===arguments.length?this.validator.validate(e):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(e,t){return this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t),this},off:function(e,t){if(e&&t){this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[];for(var i=[],n=0;n<this.callbacks[e].length;n++)this.callbacks[e][n]!==t&&i.push(this.callbacks[e][n]);this.callbacks[e]=i}else e?(this.callbacks=this.callbacks||{},this.callbacks[e]=[]):this.callbacks={};return this},trigger:function(e){if(this.callbacks&&this.callbacks[e]&&this.callbacks[e].length)for(var t=0;t<this.callbacks[e].length;t++)this.callbacks[e][t]();return this},setOption:function(e,t){if("show_errors"!==e)throw"Option "+e+" must be set during instantiation and cannot be changed later";return this.options.show_errors=t,this.onChange(),this},getEditorClass:function(e){var t;if(e=this.expandSchema(e),s(a.defaults.resolvers,function(i,n){var r=n(e);if(r&&a.defaults.editors[r])return t=r,!1}),!t)throw"Unknown editor for schema "+JSON.stringify(e);if(!a.defaults.editors[t])throw"Unknown editor "+t;return a.defaults.editors[t]},createEditor:function(e,t){return new e(t=r({},e.options||{},t))},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var e=this;return window.requestAnimationFrame(function(){e.firing_change=!1,e.ready&&(e.validation_results=e.validator.validate(e.root.getValue()),"never"!==e.options.show_errors?e.root.showValidationErrors(e.validation_results):e.root.showValidationErrors([]),e.trigger("change"))}),this}},compileTemplate:function(e,t){var i;if("string"==typeof(t=t||a.defaults.template)){if(!a.defaults.templates[t])throw"Unknown template engine "+t;if(!(i=a.defaults.templates[t]()))throw"Template engine "+t+" missing required library."}else i=t;if(!i)throw"No template engine set";if(!i.compile)throw"Invalid template engine set";return i.compile(e)},_data:function(e,t,i){if(3!==arguments.length)return e.hasAttribute("data-jsoneditor-"+t)?this.__data[e.getAttribute("data-jsoneditor-"+t)]:null;var n;e.hasAttribute("data-jsoneditor-"+t)?n=e.getAttribute("data-jsoneditor-"+t):(n=this.uuid++,e.setAttribute("data-jsoneditor-"+t,n)),this.__data[n]=i},registerEditor:function(e){return this.editors=this.editors||{},this.editors[e.path]=e,this},unregisterEditor:function(e){return this.editors=this.editors||{},this.editors[e.path]=null,this},getEditor:function(e){if(this.editors)return this.editors[e]},watch:function(e,t){return this.watchlist=this.watchlist||{},this.watchlist[e]=this.watchlist[e]||[],this.watchlist[e].push(t),this},unwatch:function(e,t){if(!this.watchlist||!this.watchlist[e])return this;if(!t)return this.watchlist[e]=null,this;for(var i=[],n=0;n<this.watchlist[e].length;n++)this.watchlist[e][n]!==t&&i.push(this.watchlist[e][n]);return this.watchlist[e]=i.length?i:null,this},notifyWatchers:function(e){if(!this.watchlist||!this.watchlist[e])return this;for(var t=0;t<this.watchlist[e].length;t++)this.watchlist[e][t]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(e,t){if(t=t||"#/definitions/",e.definitions)for(var i in e.definitions)e.definitions.hasOwnProperty(i)&&(this.refs[t+i]=e.definitions[i],e.definitions[i].definitions&&this._getDefinitions(e.definitions[i],t+i+"/definitions/"))},_getExternalRefs:function(e){var t={},i=function(e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=!0)};for(var n in e.$ref&&"object"!=typeof e.$ref&&"#"!==e.$ref.substr(0,1)&&!this.refs[e.$ref]&&(t[e.$ref]=!0),e)if(e.hasOwnProperty(n))if(e[n]&&"object"==typeof e[n]&&Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)"object"==typeof e[n][r]&&i(this._getExternalRefs(e[n][r]));else e[n]&&"object"==typeof e[n]&&i(this._getExternalRefs(e[n]));return t},_loadExternalRefs:function(e,t){var i=this,n=this._getExternalRefs(e),r=0,o=0,a=!1;s(n,function(e){if(!i.refs[e]){if(!i.options.ajax)throw"Must set ajax option to true to load external ref "+e;i.refs[e]="loading",o++;var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){if(4==n.readyState){if(200!==n.status)throw window.console.log(n),"Failed to fetch ref via ajax- "+e;var s;try{s=JSON.parse(n.responseText)}catch(t){throw window.console.log(t),"Failed to parse external ref "+e}if(!s||"object"!=typeof s)throw"External ref does not contain a valid schema - "+e;i.refs[e]=s,i._loadExternalRefs(s,function(){++r>=o&&!a&&(a=!0,t())})}},n.send()}}),o||t()},expandRefs:function(e){for(e=r({},e);e.$ref;){var t=e.$ref;delete e.$ref,this.refs[t]||(t=decodeURIComponent(t)),e=this.extendSchemas(e,this.refs[t])}return e},expandSchema:function(e){var t,i=this,n=r({},e);if("object"==typeof e.type&&(Array.isArray(e.type)?s(e.type,function(t,n){"object"==typeof n&&(e.type[t]=i.expandSchema(n))}):e.type=i.expandSchema(e.type)),"object"==typeof e.disallow&&(Array.isArray(e.disallow)?s(e.disallow,function(t,n){"object"==typeof n&&(e.disallow[t]=i.expandSchema(n))}):e.disallow=i.expandSchema(e.disallow)),e.anyOf&&s(e.anyOf,function(t,n){e.anyOf[t]=i.expandSchema(n)}),e.dependencies&&s(e.dependencies,function(t,n){"object"!=typeof n||Array.isArray(n)||(e.dependencies[t]=i.expandSchema(n))}),e.not&&(e.not=this.expandSchema(e.not)),e.allOf){for(t=0;t<e.allOf.length;t++)n=this.extendSchemas(n,this.expandSchema(e.allOf[t]));delete n.allOf}if(e.extends){if(Array.isArray(e.extends))for(t=0;t<e.extends.length;t++)n=this.extendSchemas(n,this.expandSchema(e.extends[t]));else n=this.extendSchemas(n,this.expandSchema(e.extends));delete n.extends}if(e.oneOf){var o=r({},n);for(delete o.oneOf,t=0;t<e.oneOf.length;t++)n.oneOf[t]=this.extendSchemas(this.expandSchema(e.oneOf[t]),o)}return this.expandRefs(n)},extendSchemas:function(e,t){e=r({},e),t=r({},t);var i=this,n={};return s(e,function(e,r){void 0!==t[e]?"required"!==e&&"defaultProperties"!==e||"object"!=typeof r||!Array.isArray(r)?"type"!==e||"string"!=typeof r&&!Array.isArray(r)?"object"==typeof r&&Array.isArray(r)?n[e]=r.filter(function(i){return-1!==t[e].indexOf(i)}):n[e]="object"==typeof r&&null!==r?i.extendSchemas(r,t[e]):r:("string"==typeof r&&(r=[r]),"string"==typeof t.type&&(t.type=[t.type]),t.type&&t.type.length?n.type=r.filter(function(e){return-1!==t.type.indexOf(e)}):n.type=r,1===n.type.length&&"string"==typeof n.type[0]?n.type=n.type[0]:0===n.type.length&&delete n.type):n[e]=r.concat(t[e]).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]):n[e]=r}),s(t,function(t,i){void 0===e[t]&&(n[t]=i)}),n}},a.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]},a.Validator=t.extend({init:function(e,t,i){this.jsoneditor=e,this.schema=t||this.jsoneditor.schema,this.options=i||{},this.translate=this.jsoneditor.translate||a.defaults.translate},validate:function(e){return this._validateSchema(this.schema,e)},_validateSchema:function(e,t,i){var n,o,l,h=this,u=[],d=JSON.stringify(t);if(i=i||"root",(e=r({},this.jsoneditor.expandRefs(e))).required&&!0===e.required){if(void 0===t)return u.push({path:i,property:"required",message:this.translate("error_notset")}),u}else if(void 0===t){if(!this.jsoneditor.options.required_by_default)return u;u.push({path:i,property:"required",message:this.translate("error_notset")})}if(e.enum){for(n=!1,o=0;o<e.enum.length;o++)d===JSON.stringify(e.enum[o])&&(n=!0);n||u.push({path:i,property:"enum",message:this.translate("error_enum")})}if(e.extends)for(o=0;o<e.extends.length;o++)u=u.concat(this._validateSchema(e.extends[o],t,i));if(e.allOf)for(o=0;o<e.allOf.length;o++)u=u.concat(this._validateSchema(e.allOf[o],t,i));if(e.anyOf){for(n=!1,o=0;o<e.anyOf.length;o++)if(!this._validateSchema(e.anyOf[o],t,i).length){n=!0;break}n||u.push({path:i,property:"anyOf",message:this.translate("error_anyOf")})}if(e.oneOf){n=0;var c=[];for(o=0;o<e.oneOf.length;o++){var p=this._validateSchema(e.oneOf[o],t,i);for(p.length||n++,l=0;l<p.length;l++)p[l].path=i+".oneOf["+o+"]"+p[l].path.substr(i.length);c=c.concat(p)}1!==n&&(u.push({path:i,property:"oneOf",message:this.translate("error_oneOf",[n])}),u=u.concat(c))}if(e.not&&(this._validateSchema(e.not,t,i).length||u.push({path:i,property:"not",message:this.translate("error_not")})),e.type)if(Array.isArray(e.type)){for(n=!1,o=0;o<e.type.length;o++)if(this._checkType(e.type[o],t)){n=!0;break}n||u.push({path:i,property:"type",message:this.translate("error_type_union")})}else this._checkType(e.type,t)||u.push({path:i,property:"type",message:this.translate("error_type",[e.type])});if(e.disallow)if(Array.isArray(e.disallow)){for(n=!0,o=0;o<e.disallow.length;o++)if(this._checkType(e.disallow[o],t)){n=!1;break}n||u.push({path:i,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(e.disallow,t)&&u.push({path:i,property:"disallow",message:this.translate("error_disallow",[e.disallow])});if("number"==typeof t){if(e.multipleOf||e.divisibleBy){var f=e.multipleOf||e.divisibleBy;n=t/f===Math.floor(t/f),window.math?n=window.math.mod(window.math.bignumber(t),window.math.bignumber(f)).equals(0):window.Decimal&&(n=new window.Decimal(t).mod(new window.Decimal(f)).equals(0)),n||u.push({path:i,property:e.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[f])})}e.hasOwnProperty("maximum")&&(n=e.exclusiveMaximum?t<e.maximum:t<=e.maximum,window.math?n=window.math[e.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(t),window.math.bignumber(e.maximum)):window.Decimal&&(n=new window.Decimal(t)[e.exclusiveMaximum?"lt":"lte"](new window.Decimal(e.maximum))),n||u.push({path:i,property:"maximum",message:this.translate(e.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[e.maximum])})),e.hasOwnProperty("minimum")&&(n=e.exclusiveMinimum?t>e.minimum:t>=e.minimum,window.math?n=window.math[e.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(t),window.math.bignumber(e.minimum)):window.Decimal&&(n=new window.Decimal(t)[e.exclusiveMinimum?"gt":"gte"](new window.Decimal(e.minimum))),n||u.push({path:i,property:"minimum",message:this.translate(e.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[e.minimum])}))}else if("string"==typeof t)e.maxLength&&(t+"").length>e.maxLength&&u.push({path:i,property:"maxLength",message:this.translate("error_maxLength",[e.maxLength])}),e.minLength&&(t+"").length<e.minLength&&u.push({path:i,property:"minLength",message:this.translate(1===e.minLength?"error_notempty":"error_minLength",[e.minLength])}),e.pattern&&(new RegExp(e.pattern).test(t)||u.push({path:i,property:"pattern",message:this.translate("error_pattern",[e.pattern])}));else if("object"==typeof t&&null!==t&&Array.isArray(t)){if(e.items)if(Array.isArray(e.items))for(o=0;o<t.length;o++)if(e.items[o])u=u.concat(this._validateSchema(e.items[o],t[o],i+"."+o));else{if(!0===e.additionalItems)break;if(!e.additionalItems){if(!1===e.additionalItems){u.push({path:i,property:"additionalItems",message:this.translate("error_additionalItems")});break}break}u=u.concat(this._validateSchema(e.additionalItems,t[o],i+"."+o))}else for(o=0;o<t.length;o++)u=u.concat(this._validateSchema(e.items,t[o],i+"."+o));if(e.maxItems&&t.length>e.maxItems&&u.push({path:i,property:"maxItems",message:this.translate("error_maxItems",[e.maxItems])}),e.minItems&&t.length<e.minItems&&u.push({path:i,property:"minItems",message:this.translate("error_minItems",[e.minItems])}),e.uniqueItems){var m={};for(o=0;o<t.length;o++){if(m[n=JSON.stringify(t[o])]){u.push({path:i,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}m[n]=!0}}}else if("object"==typeof t&&null!==t){if(e.maxProperties){for(o in n=0,t)t.hasOwnProperty(o)&&n++;n>e.maxProperties&&u.push({path:i,property:"maxProperties",message:this.translate("error_maxProperties",[e.maxProperties])})}if(e.minProperties){for(o in n=0,t)t.hasOwnProperty(o)&&n++;n<e.minProperties&&u.push({path:i,property:"minProperties",message:this.translate("error_minProperties",[e.minProperties])})}if(e.required&&Array.isArray(e.required))for(o=0;o<e.required.length;o++)void 0===t[e.required[o]]&&u.push({path:i,property:"required",message:this.translate("error_required",[e.required[o]])});var g={};if(e.properties)for(o in e.properties)e.properties.hasOwnProperty(o)&&(g[o]=!0,u=u.concat(this._validateSchema(e.properties[o],t[o],i+"."+o)));if(e.patternProperties)for(o in e.patternProperties)if(e.patternProperties.hasOwnProperty(o)){var y=new RegExp(o);for(l in t)t.hasOwnProperty(l)&&y.test(l)&&(g[l]=!0,u=u.concat(this._validateSchema(e.patternProperties[o],t[l],i+"."+l)))}if(void 0!==e.additionalProperties||!this.jsoneditor.options.no_additional_properties||e.oneOf||e.anyOf||(e.additionalProperties=!1),void 0!==e.additionalProperties)for(o in t)if(t.hasOwnProperty(o)&&!g[o]){if(!e.additionalProperties){u.push({path:i,property:"additionalProperties",message:this.translate("error_additional_properties",[o])});break}if(!0===e.additionalProperties)break;u=u.concat(this._validateSchema(e.additionalProperties,t[o],i+"."+o))}if(e.dependencies)for(o in e.dependencies)if(e.dependencies.hasOwnProperty(o)&&void 0!==t[o])if(Array.isArray(e.dependencies[o]))for(l=0;l<e.dependencies[o].length;l++)void 0===t[e.dependencies[o][l]]&&u.push({path:i,property:"dependencies",message:this.translate("error_dependency",[e.dependencies[o][l]])});else u=u.concat(this._validateSchema(e.dependencies[o],t,i))}return s(a.defaults.custom_validators,function(n,r){u=u.concat(r.call(h,e,t,i))}),this.options.custom_validators&&s(this.options.custom_validators,function(n,r){u=u.concat(r.call(h,e,t,i))}),u},_checkType:function(e,t){return"string"==typeof e?"string"===e?"string"==typeof t:"number"===e?"number"==typeof t:"integer"===e?"number"==typeof t&&t===Math.floor(t):"boolean"===e?"boolean"==typeof t:"array"===e?Array.isArray(t):"object"===e?null!==t&&!Array.isArray(t)&&"object"==typeof t:"null"!==e||null===t:!this._validateSchema(e,t).length}}),a.AbstractEditor=t.extend({onChildEditorChange:function(e){this.onChange(!0)},notify:function(){this.jsoneditor.notifyWatchers(this.path)},change:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange()},onChange:function(e){this.notify(),this.watch_listener&&this.watch_listener(),e&&this.change()},register:function(){this.jsoneditor.registerEditor(this),this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(e){this.jsoneditor=e.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||a.defaults.translate,this.original_schema=e.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=r({},this.options||{},e.schema.options||{},e),e.path||this.schema.id||(this.schema.id="root"),this.path=e.path||"root",this.formname=e.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=e.parent,this.link_watchers=[],e.container&&this.setContainer(e.container)},setContainer:function(e){this.container=e,this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()},setupWatchListeners:function(){var e,t,i,n,r,s=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){s.refreshWatchedFieldValues()&&s.onWatchedFieldChange()},this.register(),this.schema.hasOwnProperty("watch"))for(var o in this.schema.watch)if(this.schema.watch.hasOwnProperty(o)){if(e=this.schema.watch[o],Array.isArray(e)){if(e.length<2)continue;t=[e[0]].concat(e[1].split("."))}else t=e.split("."),s.theme.closest(s.container,'[data-schemaid="'+t[0]+'"]')||t.unshift("#");if("#"===(i=t.shift())&&(i=s.jsoneditor.schema.id||"root"),!(n=s.theme.closest(s.container,'[data-schemaid="'+i+'"]')))throw"Could not find ancestor node with id "+i;r=n.getAttribute("data-schemapath")+"."+t.join("."),s.jsoneditor.watch(r,s.watch_listener),s.watched[o]=r}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var e=0;e<this.schema.links.length;e++)this.addLink(this.getLink(this.schema.links[e]))},getButton:function(e,t,i){var n="json-editor-btn-"+t;!(t=this.iconlib?this.iconlib.getIcon(t):null)&&i&&(e=i,i=null);var r=this.theme.getButton(e,t,i);return r.className+=" "+n+" ",r},setButtonText:function(e,t,i,n){return!(i=this.iconlib?this.iconlib.getIcon(i):null)&&n&&(t=n,n=null),this.theme.setButtonText(e,t,i,n)},addLink:function(e){this.link_holder&&this.link_holder.appendChild(e)},getLink:function(e){var t,i,n=(e.mediaType||"application/javascript").split("/")[0],r=this.jsoneditor.compileTemplate(e.href,this.template_engine),s=null;if(e.download&&(s=e.download),s&&!0!==s&&(s=this.jsoneditor.compileTemplate(s,this.template_engine)),"image"===n){t=this.theme.getBlockLinkHolder(),(i=document.createElement("a")).setAttribute("target","_blank");var o=document.createElement("img");this.theme.createImageLink(t,i,o),this.link_watchers.push(function(t){var n=r(t);i.setAttribute("href",n),i.setAttribute("title",e.rel||n),o.setAttribute("src",n)})}else if(["audio","video"].indexOf(n)>=0){t=this.theme.getBlockLinkHolder(),(i=this.theme.getBlockLink()).setAttribute("target","_blank");var a=document.createElement(n);a.setAttribute("controls","controls"),this.theme.createMediaLink(t,i,a),this.link_watchers.push(function(t){var n=r(t);i.setAttribute("href",n),i.textContent=e.rel||n,a.setAttribute("src",n)})}else i=t=this.theme.getBlockLink(),t.setAttribute("target","_blank"),t.textContent=e.rel,this.link_watchers.push(function(i){var n=r(i);t.setAttribute("href",n),t.textContent=e.rel||n});return s&&i&&(!0===s?i.setAttribute("download",""):this.link_watchers.push(function(e){i.setAttribute("download",s(e))})),e.class&&(i.className=i.className+" "+e.class),t},refreshWatchedFieldValues:function(){if(this.watched_values){var e,t,i={},n=!1;if(this.watched)for(var r in this.watched)this.watched.hasOwnProperty(r)&&(e=(t=this.jsoneditor.getEditor(this.watched[r]))?t.getValue():null,this.watched_values[r]!==e&&(n=!0),i[r]=e);return i.self=this.getValue(),this.watched_values.self!==i.self&&(n=!0),this.watched_values=i,n}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length){for(var e=0;e<this.header.childNodes.length;e++)if(3===this.header.childNodes[e].nodeType){this.header.childNodes[e].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(e){return this.header_text?this.header_text:e?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var e;if(this.header_template){e=r(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var t=this.header_template(e);t!==this.header_text&&(this.header_text=t,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){e=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++)this.link_watchers[i](e)}},setValue:function(e){this.value=e},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var e=this;this.unregister(this),s(this.watched,function(t,i){e.jsoneditor.unwatch(i,e.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(this.schema.default)return this.schema.default;if(this.schema.enum)return this.schema.enum[0];var e=this.schema.type||this.schema.oneOf;if(e&&Array.isArray(e)&&(e=e[0]),e&&"object"==typeof e&&(e=e.type),e&&Array.isArray(e)&&(e=e[0]),"string"==typeof e){if("number"===e)return 0;if("boolean"===e)return!1;if("integer"===e)return 0;if("string"===e)return"";if("object"===e)return{};if("array"===e)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},isRequired:function(){return"boolean"==typeof this.schema.required?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.indexOf(this.key)>-1:!!this.jsoneditor.options.required_by_default},getDisplayText:function(e){var t=[],i={};s(e,function(e,t){t.title&&(i[t.title]=i[t.title]||0,i[t.title]++),t.description&&(i[t.description]=i[t.description]||0,i[t.description]++),t.format&&(i[t.format]=i[t.format]||0,i[t.format]++),t.type&&(i[t.type]=i[t.type]||0,i[t.type]++)}),s(e,function(e,n){var r;r="string"==typeof n?n:n.title&&i[n.title]<=1?n.title:n.format&&i[n.format]<=1?n.format:n.type&&i[n.type]<=1?n.type:n.description&&i[n.description]<=1?n.descripton:n.title?n.title:n.format?n.format:n.type?n.type:n.description?n.description:JSON.stringify(n).length<50?JSON.stringify(n):"type",t.push(r)});var n={};return s(t,function(e,r){n[r]=n[r]||0,n[r]++,i[r]>1&&(t[e]=r+" "+n[r])}),t},getOption:function(e){try{throw"getOption is deprecated"}catch(e){window.console.error(e)}return this.options[e]},showValidationErrors:function(e){}}),a.defaults.editors.null=a.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}}),a.defaults.editors.string=a.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(e,t,i){if((!this.template||i)&&(null===e||void 0===e?e="":"object"==typeof e?e=JSON.stringify(e):"string"!=typeof e&&(e=""+e),e!==this.serialized)){var n=this.sanitize(e);if(this.input.value!==n){this.input.value=n,this.sceditor_instance?this.sceditor_instance.val(n):this.epiceditor?this.epiceditor.importFile(null,n):this.ace_editor&&this.ace_editor.setValue(n);var r=i||this.getValue()!==e;this.refreshValue(),t?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(r)}}},getNumColumns:function(){var e,t=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return e="textarea"===this.input_type?6:["text","email"].indexOf(this.input_type)>=0?4:2,Math.min(12,Math.max(t,e))},build:function(){var e=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var t=this.schema.minimum||0,i=this.schema.maximum||Math.max(100,t+1),n=1;this.schema.multipleOf&&(t%this.schema.multipleOf&&(t=Math.ceil(t/this.schema.multipleOf)*this.schema.multipleOf),i%this.schema.multipleOf&&(i=Math.floor(i/this.schema.multipleOf)*this.schema.multipleOf),n=this.schema.multipleOf),this.input=this.theme.getRangeInput(t,i,n)}else["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),e.schema.template)this.value=e.value;else{var i=this.value,n=e.sanitize(i);i!==n&&(this.value=n),e.is_dirty=!0,e.refreshValue(),e.onChange(!0)}}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(e){if(e){var t,i=e.offsetHeight;if(e.offsetHeight<e.scrollHeight)for(t=0;e.offsetHeight<e.scrollHeight+3&&!(t>100);)t++,i++,e.style.height=i+"px";else{for(t=0;e.offsetHeight>=e.scrollHeight+3&&!(t>100);)t++,i--,e.style.height=i+"px";e.style.height=i+1+"px"}}},this.input.addEventListener("keyup",function(t){e.adjust_height(this)}),this.input.addEventListener("change",function(t){e.adjust_height(this)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),window.requestAnimationFrame(function(){e.input.parentNode&&e.afterInputReady(),e.adjust_height&&e.adjust_height(e.input)}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},afterInputReady:function(){var t,i=this;if(this.source_code)if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&e&&e.fn&&e.fn.sceditor)t=r({},{plugins:"html"===i.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},a.plugins.sceditor,i.options.sceditor_options||{}),e(i.input).sceditor(t),i.sceditor_instance=e(i.input).sceditor("instance"),i.sceditor_instance.blur(function(){var t=e("<div>"+i.sceditor_instance.val()+"</div>");e("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",t).remove(),i.input.value=t.html(),i.value=i.input.value,i.is_dirty=!0,i.onChange(!0)});else if("markdown"===this.input_type&&window.EpicEditor)this.epiceditor_container=document.createElement("div"),this.input.parentNode.insertBefore(this.epiceditor_container,this.input),this.input.style.display="none",t=r({},a.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1}),this.epiceditor=new window.EpicEditor(t).load(),this.epiceditor.importFile(null,this.getValue()),this.epiceditor.on("update",function(){var e=i.epiceditor.exportFile();i.input.value=e,i.value=e,i.is_dirty=!0,i.onChange(!0)});else if(window.ace){var n=this.input_type;"cpp"!==n&&"c++"!==n&&"c"!==n||(n="c_cpp"),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.ace_container.style.height="400px",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor=window.ace.edit(this.ace_container),this.ace_editor.setValue(this.getValue()),a.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+a.plugins.ace.theme),(n=window.ace.require("ace/mode/"+n))&&this.ace_editor.getSession().setMode(new n.Mode),this.ace_editor.on("change",function(){var e=i.ace_editor.getValue();i.input.value=e,i.refreshValue(),i.is_dirty=!0,i.onChange(!0)})}i.theme.afterInputReady(i.input)},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(e){return e},onWatchedFieldChange:function(){var e;this.template&&(e=this.getWatchedFieldValues(),this.setValue(this.template(e),!1,!0)),this._super()},showValidationErrors:function(e){var t=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var i=[];s(e,function(e,n){n.path===t.path&&i.push(n.message)}),i.length?this.theme.addInputError(this.input,i.join(". ")+"."):this.theme.removeInputError(this.input)}}),a.defaults.editors.number=a.defaults.editors.string.extend({sanitize:function(e){return(e+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return 1*this.value}}),a.defaults.editors.integer=a.defaults.editors.number.extend({sanitize:function(e){return(e+="").replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),a.defaults.editors.object=a.AbstractEditor.extend({getDefault:function(){return r({},this.schema.default||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].register()},unregister:function(){if(this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].enable()},disable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].disable()},layoutEditors:function(){var e,t,i=this;if(this.row_container){var n;if(this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(e,t){var n=i.editors[e].schema.propertyOrder,r=i.editors[t].schema.propertyOrder;return"number"!=typeof n&&(n=1e3),"number"!=typeof r&&(r=1e3),n-r}),"grid"===this.format){var r=[];for(s(this.property_order,function(e,t){var n=i.editors[t];if(!n.property_removed){for(var s=!1,o=n.options.hidden?0:n.options.grid_columns||n.getNumColumns(),a=n.options.hidden?0:n.container.offsetHeight,l=0;l<r.length;l++)r[l].width+o<=12&&(!a||.5*r[l].minh<a&&2*r[l].maxh>a)&&(s=l);!1===s&&(r.push({width:0,minh:999999,maxh:0,editors:[]}),s=r.length-1),r[s].editors.push({key:t,width:o,height:a}),r[s].width+=o,r[s].minh=Math.min(r[s].minh,a),r[s].maxh=Math.max(r[s].maxh,a)}}),e=0;e<r.length;e++)if(r[e].width<12){var o=!1,a=0;for(t=0;t<r[e].editors.length;t++)!1===o?o=t:r[e].editors[t].width>r[e].editors[o].width&&(o=t),r[e].editors[t].width*=12/r[e].width,r[e].editors[t].width=Math.floor(r[e].editors[t].width),a+=r[e].editors[t].width;a<12&&(r[e].editors[o].width+=12-a),r[e].width=12}if(this.layout===JSON.stringify(r))return!1;for(this.layout=JSON.stringify(r),n=document.createElement("div"),e=0;e<r.length;e++){var l=this.theme.getGridRow();for(n.appendChild(l),t=0;t<r[e].editors.length;t++){var h=r[e].editors[t].key,u=this.editors[h];u.options.hidden?u.container.style.display="none":this.theme.setGridColumnSize(u.container,r[e].editors[t].width),l.appendChild(u.container)}}}else n=document.createElement("div"),s(this.property_order,function(e,t){var r=i.editors[t];if(!r.property_removed){var s=i.theme.getGridRow();n.appendChild(s),r.options.hidden?r.container.style.display="none":i.theme.setGridColumnSize(r.container,12),s.appendChild(r.container)}});this.row_container.innerHTML="",this.row_container.appendChild(n)}},getPropertySchema:function(e){var t=this.schema.properties[e]||{};t=r({},t);var i=!!this.schema.properties[e];if(this.schema.patternProperties)for(var n in this.schema.patternProperties){if(this.schema.patternProperties.hasOwnProperty(n))new RegExp(n).test(e)&&(t.allOf=t.allOf||[],t.allOf.push(this.schema.patternProperties[n]),i=!0)}return!i&&this.schema.additionalProperties&&"object"==typeof this.schema.additionalProperties&&(t=r({},this.schema.additionalProperties)),t},preBuild:function(){this._super(),this.editors={},this.cached_editors={};var e=this;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)s(this.schema.properties,function(t,i){var n=e.jsoneditor.getEditorClass(i);e.editors[t]=e.jsoneditor.createEditor(n,{jsoneditor:e.jsoneditor,schema:i,path:e.path+"."+t,parent:e,compact:!0,required:!0}),e.editors[t].preBuild();var r=e.editors[t].options.hidden?0:e.editors[t].options.grid_columns||e.editors[t].getNumColumns();e.minwidth+=r,e.maxwidth+=r}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],s(this.schema.properties,function(t,i){e.isRequired({key:t,schema:i})&&e.schema.defaultProperties.push(t)})):e.schema.defaultProperties=Object.keys(e.schema.properties)),e.maxwidth+=1,s(this.schema.defaultProperties,function(t,i){e.addObjectProperty(i,!0),e.editors[i]&&(e.minwidth=Math.max(e.minwidth,e.editors[i].options.grid_columns||e.editors[i].getNumColumns()),e.maxwidth+=e.editors[i].options.grid_columns||e.editors[i].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(t,i){var n=e.editors[t].schema.propertyOrder,r=e.editors[i].schema.propertyOrder;return"number"!=typeof n&&(n=1e3),"number"!=typeof r&&(r=1e3),n-r})},build:function(){var e=this;if(this.options.table_row)this.editor_holder=this.container,s(this.editors,function(t,i){var n=e.theme.getTableCell();e.editor_holder.appendChild(n),i.setContainer(n),i.build(),i.postBuild(),e.editors[t].options.hidden&&(n.style.display="none"),e.editors[t].options.input_width&&(n.style.width=e.editors[t].options.input_width)});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.saveJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_list.setAttribute("class","property-selector"),this.addproperty_add=this.getButton("add","add","add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),e.addproperty_input.value){if(e.editors[e.addproperty_input.value])return void window.alert("there is already a property with that name");e.addObjectProperty(e.addproperty_input.value),e.editors[e.addproperty_input.value]&&e.editors[e.addproperty_input.value].disable(),e.onChange(!0)}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var t=document.createElement("div");t.style.clear="both",this.addproperty_holder.appendChild(t),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),s(this.editors,function(t,i){var n=e.theme.getGridColumn();e.row_container.appendChild(n),i.setContainer(n),i.build(),i.postBuild()}),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.collapsed?(e.editor_holder.style.display="",e.collapsed=!1,e.setButtonText(e.toggle_button,"","collapse",e.translate("button_collapse"))):(e.editor_holder.style.display="none",e.collapsed=!0,e.setButtonText(e.toggle_button,"","expand",e.translate("button_expand")))}),this.options.collapsed&&o(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&void 0!==this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,s(this.property_order,function(t,i){e.editor_holder.appendChild(e.editors[i].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var e=JSON.parse(this.editjson_textarea.value);this.setValue(e),this.hideEditJSON()}catch(e){throw window.alert("invalid JSON"),e}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(e,t,i){var n;this.schema.properties[e]&&(n=this.schema.properties[e].propertyOrder),"number"!=typeof n&&(n=1e3),t.propertyOrder=n;for(var r=0;r<i.childNodes.length;r++){var s=i.childNodes[r];if(t.propertyOrder<s.propertyOrder){this.addproperty_list.insertBefore(t,s),t=null;break}}t&&this.addproperty_list.appendChild(t)},addPropertyCheckbox:function(e){var t,i,n,r,s=this;return(t=s.theme.getCheckbox()).style.width="auto",n=this.schema.properties[e]&&this.schema.properties[e].title?this.schema.properties[e].title:e,i=s.theme.getCheckboxLabel(n),(r=s.theme.getFormControl(i,t)).style.paddingBottom=r.style.marginBottom=r.style.paddingTop=r.style.marginTop=0,r.style.height="auto",this.insertPropertyControlUsingPropertyOrder(e,r,this.addproperty_list),t.checked=e in this.editors,t.addEventListener("change",function(){t.checked?s.addObjectProperty(e):s.removeObjectProperty(e),s.onChange(!0)}),s.addproperty_checkboxes[e]=t,t},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(e){this.editors[e]&&(this.editors[e].unregister(),delete this.editors[e],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(e,t){if(!this.editors[e]){if(this.cached_editors[e]){if(this.editors[e]=this.cached_editors[e],t)return;this.editors[e].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[e]))return;var i=this.getPropertySchema(e),n=this.jsoneditor.getEditorClass(i);if(this.editors[e]=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:i,path:this.path+"."+e,parent:this}),this.editors[e].preBuild(),!t){var r=this.theme.getChildEditorHolder();this.editor_holder.appendChild(r),this.editors[e].setContainer(r),this.editors[e].build(),this.editors[e].postBuild()}this.cached_editors[e]=this.editors[e]}t||(this.refreshValue(),this.layoutEditors())}},onChildEditorChange:function(e){this.refreshValue(),this._super(e)},canHaveAdditionalProperties:function(){return"boolean"==typeof this.schema.additionalProperties?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},destroy:function(){s(this.cached_editors,function(e,t){t.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},getValue:function(){var e=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(var t in e)e.hasOwnProperty(t)&&(e[t]||delete e[t]);return e},refreshValue:function(){this.value={};for(var e in this.editors)this.editors.hasOwnProperty(e)&&(this.value[e]=this.editors[e].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||!1!==this.options.disable_properties&&this.jsoneditor.options.disable_properties)this.addproperty_controls.style.display="none";else{var e,t,i=0,n=!1;for(t in this.editors)this.editors.hasOwnProperty(t)&&i++;for(t in e=this.canHaveAdditionalProperties()&&!(void 0!==this.schema.maxProperties&&i>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={},this.cached_editors)this.cached_editors.hasOwnProperty(t)&&(this.addPropertyCheckbox(t),this.isRequired(this.cached_editors[t])&&t in this.editors&&(this.addproperty_checkboxes[t].disabled=!0),void 0!==this.schema.minProperties&&i<=this.schema.minProperties?(this.addproperty_checkboxes[t].disabled=this.addproperty_checkboxes[t].checked,this.addproperty_checkboxes[t].checked||(n=!0)):t in this.editors?(n=!0,!0):e||this.schema.properties.hasOwnProperty(t)?(this.addproperty_checkboxes[t].disabled=!1,n=!0):this.addproperty_checkboxes[t].disabled=!0);for(t in this.canHaveAdditionalProperties()&&(n=!0),this.schema.properties)this.schema.properties.hasOwnProperty(t)&&(this.cached_editors[t]||(n=!0,this.addPropertyCheckbox(t)));n?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!e:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")}},isRequired:function(e){return"boolean"==typeof e.schema.required?e.schema.required:Array.isArray(this.schema.required)?this.schema.required.indexOf(e.key)>-1:!!this.jsoneditor.options.required_by_default},setValue:function(e,t){var i=this;("object"!=typeof(e=e||{})||Array.isArray(e))&&(e={}),s(this.cached_editors,function(n,r){void 0!==e[n]?(i.addObjectProperty(n),r.setValue(e[n],t)):t||i.isRequired(r)?r.setValue(r.getDefault(),t):i.removeObjectProperty(n)}),s(e,function(e,n){i.cached_editors[e]||(i.addObjectProperty(e),i.editors[e]&&i.editors[e].setValue(n,t))}),this.refreshValue(),this.layoutEditors(),this.onChange()},showValidationErrors:function(e){var t=this,i=[],n=[];if(s(e,function(e,r){r.path===t.path?i.push(r):n.push(r)}),this.error_holder)if(i.length){this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(e,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})}else this.error_holder.style.display="none";this.options.table_row&&(i.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),s(this.editors,function(e,t){t.showValidationErrors(n)})}}),a.defaults.editors.array=a.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},register:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].register()},unregister:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].unregister()},getNumColumns:function(){var e=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,e.width+2),4):e.width},enable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].enable(),this.rows[e].moveup_button&&(this.rows[e].moveup_button.disabled=!1),this.rows[e].movedown_button&&(this.rows[e].movedown_button.disabled=!1),this.rows[e].delete_button&&(this.rows[e].delete_button.disabled=!1);this._super()},disable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].disable(),this.rows[e].moveup_button&&(this.rows[e].moveup_button.disabled=!0),this.rows[e].movedown_button&&(this.rows[e].movedown_button.disabled=!0),this.rows[e].delete_button&&(this.rows[e].delete_button.disabled=!0);this._super()},preBuild:function(){this._super(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls))),this.addControls()},onChildEditorChange:function(e){this.refreshValue(),this.refreshTabs(!0),this._super(e)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var e=this.jsoneditor.expandRefs(this.schema.items);this.item_title=e.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(e){return Array.isArray(this.schema.items)?e>=this.schema.items.length?!0===this.schema.additionalItems?{}:this.schema.additionalItems?r({},this.schema.additionalItems):void 0:r({},this.schema.items[e]):this.schema.items?r({},this.schema.items):{}},getItemInfo:function(e){var t=this.getItemSchema(e);this.item_info=this.item_info||{};var i=JSON.stringify(t);return void 0!==this.item_info[i]?this.item_info[i]:(t=this.jsoneditor.expandRefs(t),this.item_info[i]={title:t.title||"item",default:t.default,width:12,child_editors:t.properties||t.items},this.item_info[i])},getElementEditor:function(e){var t=this.getItemInfo(e),i=this.getItemSchema(e);(i=this.jsoneditor.expandRefs(i)).title=t.title+" "+(e+1);var n,r=this.jsoneditor.getEditorClass(i);n=this.tabs_holder?this.theme.getTabContent():t.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(n);var s=this.jsoneditor.createEditor(r,{jsoneditor:this.jsoneditor,schema:i,container:n,path:this.path+"."+e,parent:this,required:!0});return s.preBuild(),s.build(),s.postBuild(),s.title_controls||(s.array_controls=this.theme.getButtonHolder(),n.appendChild(s.array_controls)),s},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(e){if(this.rows){var t=this;s(this.rows,function(i,n){e&&(n.tab&&n.tab.parentNode&&n.tab.parentNode.removeChild(n.tab),t.destroyRow(n,!0),t.row_cache[i]=null),t.rows[i]=null}),t.rows=[],e&&(t.row_cache=[])}},destroyRow:function(e,t){var i=e.container;t?(e.destroy(),i.parentNode&&i.parentNode.removeChild(i),e.tab&&e.tab.parentNode&&e.tab.parentNode.removeChild(e.tab)):(e.tab&&(e.tab.style.display="none"),i.style.display="none",e.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0},refreshTabs:function(e){var t=this;s(this.rows,function(i,n){n.tab&&(e?n.tab_text.textContent=n.getHeaderText():n.tab===t.active_tab?(t.theme.markTabActive(n.tab),n.container.style.display=""):(t.theme.markTabInactive(n.tab),n.container.style.display="none"))})},setValue:function(e,t){if(e=e||[],Array.isArray(e)||(e=[e]),JSON.stringify(e)!==this.serialized){if(this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemInfo(e.length).default);this.getMax()&&e.length>this.getMax()&&(e=e.slice(0,this.getMax()));var i=this;s(e,function(e,n){i.rows[e]?i.rows[e].setValue(n,t):i.row_cache[e]?(i.rows[e]=i.row_cache[e],i.rows[e].setValue(n,t),i.rows[e].container.style.display="",i.rows[e].tab&&(i.rows[e].tab.style.display=""),i.rows[e].register()):i.addRow(n,t)});for(var n=e.length;n<i.rows.length;n++)i.destroyRow(i.rows[n]),i.rows[n]=null;i.rows=i.rows.slice(0,e.length);var r=null;s(i.rows,function(e,t){if(t.tab===i.active_tab)return r=t.tab,!1}),!r&&i.rows.length&&(r=i.rows[0].tab),i.active_tab=r,i.refreshValue(t),i.refreshTabs(!0),i.refreshTabs(),i.onChange()}},refreshValue:function(e){var t=this,i=this.value?this.value.length:0;if(this.value=[],s(this.rows,function(e,i){t.value[e]=i.getValue()}),i!==this.value.length||e){var n=this.schema.minItems&&this.schema.minItems>=this.rows.length;s(this.rows,function(e,i){i.movedown_button&&(e===t.rows.length-1?i.movedown_button.style.display="none":i.movedown_button.style.display=""),i.delete_button&&(i.delete_button.style.display=n?"none":""),t.value[e]=i.getValue()});var r=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",r=!0)):(n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",r=!0),n||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",r=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",r=!0),!this.collapsed&&r?this.controls.style.display="inline-block":this.controls.style.display="none"}},addRow:function(e,t){var i=this,n=this.rows.length;i.rows[n]=this.getElementEditor(n),i.row_cache[n]=i.rows[n],i.tabs_holder&&(i.rows[n].tab_text=document.createElement("span"),i.rows[n].tab_text.textContent=i.rows[n].getHeaderText(),i.rows[n].tab=i.theme.getTab(i.rows[n].tab_text),i.rows[n].tab.addEventListener("click",function(e){i.active_tab=i.rows[n].tab,i.refreshTabs(),e.preventDefault(),e.stopPropagation()}),i.theme.addTab(i.tabs_holder,i.rows[n].tab));var r=i.rows[n].title_controls||i.rows[n].array_controls;i.hide_delete_buttons||(i.rows[n].delete_button=this.getButton(i.getItemTitle(),"delete",this.translate("button_delete_row_title",[i.getItemTitle()])),i.rows[n].delete_button.className+=" delete",i.rows[n].delete_button.setAttribute("data-i",n),i.rows[n].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=1*this.getAttribute("data-i"),n=i.getValue(),r=[],o=null;s(n,function(e,n){e!==t?r.push(n):i.rows[e].tab===i.active_tab&&(i.rows[e+1]?o=i.rows[e].tab:e&&(o=i.rows[e-1].tab))}),i.setValue(r),o&&(i.active_tab=o,i.refreshTabs()),i.onChange(!0)}),r&&r.appendChild(i.rows[n].delete_button)),n&&!i.hide_move_buttons&&(i.rows[n].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),i.rows[n].moveup_button.className+=" moveup",i.rows[n].moveup_button.setAttribute("data-i",n),i.rows[n].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=1*this.getAttribute("data-i");if(!(t<=0)){var n=i.getValue(),r=n[t-1];n[t-1]=n[t],n[t]=r,i.setValue(n),i.active_tab=i.rows[t-1].tab,i.refreshTabs(),i.onChange(!0)}}),r&&r.appendChild(i.rows[n].moveup_button)),i.hide_move_buttons||(i.rows[n].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),i.rows[n].movedown_button.className+=" movedown",i.rows[n].movedown_button.setAttribute("data-i",n),i.rows[n].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=1*this.getAttribute("data-i"),n=i.getValue();if(!(t>=n.length-1)){var r=n[t+1];n[t+1]=n[t],n[t]=r,i.setValue(n),i.active_tab=i.rows[t+1].tab,i.refreshTabs(),i.onChange(!0)}}),r&&r.appendChild(i.rows[n].movedown_button)),e&&i.rows[n].setValue(e,t),i.refreshTabs()},addControls:function(){var e=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button);var t=e.row_holder.style.display,i=e.controls.style.display;this.toggle_button.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),e.collapsed?(e.collapsed=!1,e.panel&&(e.panel.style.display=""),e.row_holder.style.display=t,e.tabs_holder&&(e.tabs_holder.style.display=""),e.controls.style.display=i,e.setButtonText(this,"","collapse",e.translate("button_collapse"))):(e.collapsed=!0,e.row_holder.style.display="none",e.tabs_holder&&(e.tabs_holder.style.display="none"),e.controls.style.display="none",e.panel&&(e.panel.style.display="none"),e.setButtonText(this,"","expand",e.translate("button_expand")))}),this.options.collapsed&&o(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=e.rows.length;e.row_cache[i]?(e.rows[i]=e.row_cache[i],e.rows[i].setValue(e.rows[i].getDefault(),!0),e.rows[i].container.style.display="",e.rows[i].tab&&(e.rows[i].tab.style.display=""),e.rows[i].register()):e.addRow(),e.active_tab=e.rows[i].tab,e.refreshTabs(),e.refreshValue(),e.onChange(!0)}),e.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=e.getValue(),n=null;e.rows.length>1&&e.rows[e.rows.length-1].tab===e.active_tab&&(n=e.rows[e.rows.length-2].tab),i.pop(),e.setValue(i),n&&(e.active_tab=n,e.refreshTabs()),e.onChange(!0)}),e.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.setValue([]),e.onChange(!0)}),e.controls.appendChild(this.remove_all_rows_button),e.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(e){var t=this,i=[],n=[];if(s(e,function(e,r){r.path===t.path?i.push(r):n.push(r)}),this.error_holder)if(i.length){this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(e,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})}else this.error_holder.style.display="none";s(this.rows,function(e,t){t.showValidationErrors(n)})}}),a.defaults.editors.table=a.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].register()},unregister:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var e=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=e.title||"row",this.item_default=e.default||null,this.item_has_child_editors=e.properties||e.items,this.width=12,this._super()},build:function(){this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var e=this.getElementEditor(0,!0);if(this.item_default=e.getDefault(),this.width=e.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors)for(var t=e.getChildEditors(),i=e.property_order||Object.keys(t),n=0;n<i.length;n++){var r=this.theme.getTableHeaderCell(t[i[n]].getTitle());t[i[n]].options.hidden&&(r.style.display="none"),this.header_row.appendChild(r)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));e.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(" "),this.header_row.appendChild(this.controls_header_cell),this.addControls()},onChildEditorChange:function(e){this.refreshValue(),this._super()},getItemDefault:function(){return r({},{default:this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(e,t){var i=r({},this.schema.items),n=this.jsoneditor.getEditorClass(i,this.jsoneditor),s=this.row_holder.appendChild(this.theme.getTableRow()),o=s;this.item_has_child_editors||(o=this.theme.getTableCell(),s.appendChild(o));var a=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:i,container:o,path:this.path+"."+e,parent:this,compact:!0,table_row:!0});return a.preBuild(),t||(a.build(),a.postBuild(),a.controls_cell=s.appendChild(this.theme.getTableCell()),a.row=s,a.table_controls=this.theme.getButtonHolder(),a.controls_cell.appendChild(a.table_controls),a.table_controls.style.margin=0,a.table_controls.style.padding=0),a},destroy:function(){this.innerHTML="",this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,this._super()},setValue:function(e,t){if(e=e||[],this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemDefault());if(this.schema.maxItems&&e.length>this.schema.maxItems&&(e=e.slice(0,this.schema.maxItems)),JSON.stringify(e)!==this.serialized){var i=!1,n=this;s(e,function(e,t){n.rows[e]?n.rows[e].setValue(t):(n.addRow(t),i=!0)});for(var r=e.length;r<n.rows.length;r++){var o=n.rows[r].container;n.item_has_child_editors||n.rows[r].row.parentNode.removeChild(n.rows[r].row),n.rows[r].destroy(),o.parentNode&&o.parentNode.removeChild(o),n.rows[r]=null,i=!0}n.rows=n.rows.slice(0,e.length),n.refreshValue(),(i||t)&&n.refreshRowButtons(),n.onChange()}},refreshRowButtons:function(){var e=this,t=this.schema.minItems&&this.schema.minItems>=this.rows.length,i=!1;s(this.rows,function(n,r){r.movedown_button&&(n===e.rows.length-1?r.movedown_button.style.display="none":(i=!0,r.movedown_button.style.display="")),r.delete_button&&(t?r.delete_button.style.display="none":(i=!0,r.delete_button.style.display="")),r.moveup_button&&(i=!0)}),s(this.rows,function(e,t){t.controls_cell.style.display=i?"":"none"}),this.controls_header_cell.style.display=i?"":"none";var n=!1;this.value.length?1===this.value.length?(this.table.style.display="",this.remove_all_rows_button.style.display="none",t||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0)):(this.table.style.display="",t||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0),t||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",n=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none"),this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",n=!0),this.controls.style.display=n?"":"none"},refreshValue:function(){var e=this;this.value=[],s(this.rows,function(t,i){e.value[t]=i.getValue()}),this.serialized=JSON.stringify(this.value)},addRow:function(e){var t=this,i=this.rows.length;t.rows[i]=this.getElementEditor(i);var n=t.rows[i].table_controls;this.hide_delete_buttons||(t.rows[i].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),t.rows[i].delete_button.className+=" delete",t.rows[i].delete_button.setAttribute("data-i",i),t.rows[i].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),n=t.getValue(),r=[];s(n,function(e,t){e!==i&&r.push(t)}),t.setValue(r),t.onChange(!0)}),n.appendChild(t.rows[i].delete_button)),i&&!this.hide_move_buttons&&(t.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),t.rows[i].moveup_button.className+=" moveup",t.rows[i].moveup_button.setAttribute("data-i",i),t.rows[i].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i");if(!(i<=0)){var n=t.getValue(),r=n[i-1];n[i-1]=n[i],n[i]=r,t.setValue(n),t.onChange(!0)}}),n.appendChild(t.rows[i].moveup_button)),this.hide_move_buttons||(t.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),t.rows[i].movedown_button.className+=" movedown",t.rows[i].movedown_button.setAttribute("data-i",i),t.rows[i].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),n=t.getValue();if(!(i>=n.length-1)){var r=n[i+1];n[i+1]=n[i],n[i]=r,t.setValue(n),t.onChange(!0)}}),n.appendChild(t.rows[i].movedown_button)),e&&t.rows[i].setValue(e)},addControls:function(){var e=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.collapsed?(e.collapsed=!1,e.panel.style.display="",e.setButtonText(this,"","collapse",e.translate("button_collapse"))):(e.collapsed=!0,e.panel.style.display="none",e.setButtonText(this,"","expand",e.translate("button_expand")))}),this.options.collapsed&&o(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.addRow(),e.refreshValue(),e.refreshRowButtons(),e.onChange(!0)}),e.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=e.getValue();i.pop(),e.setValue(i),e.onChange(!0)}),e.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.setValue([]),e.onChange(!0)}),e.controls.appendChild(this.remove_all_rows_button)}}),a.defaults.editors.multiple=a.AbstractEditor.extend({register:function(){if(this.editors){for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].enable();this.switcher.disabled=!1,this._super()},disable:function(){if(this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].disable();this.switcher.disabled=!0,this._super()},switchEditor:function(e){var t=this;this.editors[e]||this.buildChildEditor(e);var i=t.getValue();t.type=e,t.register(),s(t.editors,function(e,n){n&&(t.type===e?(t.keep_values&&n.setValue(i,!0),n.container.style.display=""):n.container.style.display="none")}),t.refreshValue(),t.refreshHeaderText()},buildChildEditor:function(e){var t,i=this,n=this.types[e],s=i.theme.getChildEditorHolder();i.editor_holder.appendChild(s),"string"==typeof n?(t=r({},i.schema)).type=n:(t=r({},i.schema,n),t=i.jsoneditor.expandRefs(t),n.required&&Array.isArray(n.required)&&i.schema.required&&Array.isArray(i.schema.required)&&(t.required=i.schema.required.concat(n.required)));var o=i.jsoneditor.getEditorClass(t);i.editors[e]=i.jsoneditor.createEditor(o,{jsoneditor:i.jsoneditor,schema:t,container:s,path:i.path,parent:i,required:!0}),i.editors[e].preBuild(),i.editors[e].build(),i.editors[e].postBuild(),i.editors[e].header&&(i.editors[e].header.style.display="none"),i.editors[e].option=i.switcher_options[e],s.addEventListener("change_header_text",function(){i.refreshHeaderText()}),e!==i.type&&(s.style.display="none")},preBuild:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,void 0!==this.jsoneditor.options.keep_oneof_values&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),void 0!==this.options.keep_oneof_values&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&"any"!==this.schema.type)Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var e=this.schema.disallow;"object"==typeof e&&Array.isArray(e)||(e=[e]);var t=[];s(this.types,function(i,n){-1===e.indexOf(n)&&t.push(n)}),this.types=t}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var e=this,t=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),t.appendChild(this.switcher),this.switcher.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.switchEditor(e.display_text.indexOf(this.value)),e.onChange(!0)}),this.editor_holder=document.createElement("div"),t.appendChild(this.editor_holder);var i={};e.jsoneditor.options.custom_validators&&(i.custom_validators=e.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),s(this.types,function(t,n){var s;e.editors[t]=!1,"string"==typeof n?(s=r({},e.schema)).type=n:(s=r({},e.schema,n),n.required&&Array.isArray(n.required)&&e.schema.required&&Array.isArray(e.schema.required)&&(s.required=e.schema.required.concat(n.required))),e.validators[t]=new a.Validator(e.jsoneditor,s,i)}),this.switchEditor(0)},onChildEditorChange:function(e){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),this._super()},refreshHeaderText:function(){var e=this.getDisplayText(this.types);s(this.switcher_options,function(t,i){i.textContent=e[t]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(e,t){var i=this;s(this.validators,function(t,n){if(!n.validate(e).length)return i.type=t,i.switcher.value=i.display_text[t],!1}),this.switchEditor(this.type),this.editors[this.type].setValue(e,t),this.refreshValue(),i.onChange()},destroy:function(){s(this.editors,function(e,t){t&&t.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()},showValidationErrors:function(e){var t=this;if(this.oneOf||this.anyOf){var i=this.oneOf?"oneOf":"anyOf";s(this.editors,function(n,o){if(o){var a=t.path+"."+i+"["+n+"]",l=[];s(e,function(e,i){if(i.path.substr(0,a.length)===a){var n=r({},i);n.path=t.path+n.path.substr(a.length),l.push(n)}}),o.showValidationErrors(l)}})}else s(this.editors,function(t,i){i&&i.showValidationErrors(e)})}}),a.defaults.editors.enum=a.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.container;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var e=this,t=0;t<this.enum.length;t++)this.select_options[t]=this.options.enum_titles[t]||"Value "+(t+1),this.html_values[t]=this.getHTML(this.enum[t]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(){e.selected=e.select_options.indexOf(this.value),e.value=e.enum[e.selected],e.refreshValue(),e.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&(this.switcher.style.display="none")},refreshValue:function(){var e=this;e.selected=-1;var t=JSON.stringify(this.value);s(this.enum,function(i,n){if(t===JSON.stringify(n))return e.selected=i,!1}),e.selected<0?e.setValue(e.enum[0]):(this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected])},enable:function(){this.always_disabled||(this.switcher.disabled=!1),this._super()},disable:function(){this.switcher.disabled=!0,this._super()},getHTML:function(e){var t=this;if(null===e)return"<em>null</em>";if("object"==typeof e){var i="";return s(e,function(n,r){var s=t.getHTML(r);Array.isArray(e)||(s="<div><em>"+n+"</em>: "+s+"</div>"),i+="<li>"+s+"</li>"}),i=Array.isArray(e)?"<ol>"+i+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+i+"</ul>"}return"boolean"==typeof e?e?"true":"false":"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},setValue:function(e){this.value!==e&&(this.value=e,this.refreshValue(),this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),a.defaults.editors.select=a.AbstractEditor.extend({setValue:function(e,t){var i=e=this.typecast(e||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.select2&&this.select2.select2("val",this.input.value),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var e=this.getTitle().length,t=0;t<this.enum_options.length;t++)e=Math.max(e,this.enum_options[t].length+4);return Math.min(12,Math.max(e/7,2))},typecast:function(e){return"boolean"===this.schema.type?!!e:"number"===this.schema.type?1*e:"integer"===this.schema.type?Math.floor(1*e):""+e},getValue:function(){return this.value},preBuild:function(){var e,t=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var i=this.schema.options&&this.schema.options.enum_titles||[];s(this.schema.enum,function(e,n){t.enum_options[e]=""+n,t.enum_display[e]=""+(i[e]||n),t.enum_values[e]=t.typecast(n)}),this.isRequired()||(t.enum_display.unshift(" "),t.enum_options.unshift("undefined"),t.enum_values.unshift(void 0))}else if("boolean"===this.schema.type)t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],t.enum_options=["1",""],t.enum_values=[!0,!1],this.isRequired()||(t.enum_display.unshift(" "),t.enum_options.unshift("undefined"),t.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(e=0;e<this.schema.enumSource.length;e++)"string"==typeof this.schema.enumSource[e]?this.enumSource[e]={source:this.schema.enumSource[e]}:Array.isArray(this.schema.enumSource[e])?this.enumSource[e]=this.schema.enumSource[e]:this.enumSource[e]=r({},this.schema.enumSource[e]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(e=0;e<this.enumSource.length;e++)this.enumSource[e].value&&(this.enumSource[e].value=this.jsoneditor.compileTemplate(this.enumSource[e].value,this.template_engine)),this.enumSource[e].title&&(this.enumSource[e].title=this.jsoneditor.compileTemplate(this.enumSource[e].title,this.template_engine)),this.enumSource[e].filter&&(this.enumSource[e].filter=this.jsoneditor.compileTemplate(this.enumSource[e].filter,this.template_engine))}},build:function(){var e=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var e,t=this.input.value;(e=-1===this.enum_options.indexOf(t)?this.enum_values[0]:this.enum_values[this.enum_options.indexOf(t)])!==this.value&&(this.value=e,this.onChange(!0))},setupSelect2:function(){if(e&&e.fn&&e.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){var t=r({},a.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(t=r(t,this.schema.options.select2_options)),this.select2=e(this.input).select2(t);var i=this;this.select2.on("select2-blur",function(){i.input.value=i.select2.select2("val"),i.onInputChange()}),this.select2.on("change",function(){i.input.value=i.select2.select2("val"),i.onInputChange()})}else this.select2=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelect2()},onWatchedFieldChange:function(){var e,t;if(this.enumSource){e=this.getWatchedFieldValues();for(var i=[],n=[],r=0;r<this.enumSource.length;r++)if(Array.isArray(this.enumSource[r]))i=i.concat(this.enumSource[r]),n=n.concat(this.enumSource[r]);else{var s=[];if(s=Array.isArray(this.enumSource[r].source)?this.enumSource[r].source:e[this.enumSource[r].source]){if(this.enumSource[r].slice&&(s=Array.prototype.slice.apply(s,this.enumSource[r].slice)),this.enumSource[r].filter){var o=[];for(t=0;t<s.length;t++)this.enumSource[r].filter({i:t,item:s[t],watched:e})&&o.push(s[t]);s=o}var a=[],l=[];for(t=0;t<s.length;t++){var h=s[t];this.enumSource[r].value?l[t]=this.enumSource[r].value({i:t,item:h}):l[t]=s[t],this.enumSource[r].title?a[t]=this.enumSource[r].title({i:t,item:h}):a[t]=l[t]}i=i.concat(l),n=n.concat(a)}}var u=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,this.select2&&this.select2.select2("destroy"),-1!==i.indexOf(u)?(this.input.value=u,this.value=u):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0)),this._super()},disable:function(){this.input.disabled=!0,this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),a.defaults.editors.selectize=a.AbstractEditor.extend({setValue:function(e,t){var i=e=this.typecast(e||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.selectize&&this.selectize[0].selectize.addItem(i),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var e=this.getTitle().length,t=0;t<this.enum_options.length;t++)e=Math.max(e,this.enum_options[t].length+4);return Math.min(12,Math.max(e/7,2))},typecast:function(e){return"boolean"===this.schema.type?!!e:"number"===this.schema.type?1*e:"integer"===this.schema.type?Math.floor(1*e):""+e},getValue:function(){return this.value},preBuild:function(){var e,t=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var i=this.schema.options&&this.schema.options.enum_titles||[];s(this.schema.enum,function(e,n){t.enum_options[e]=""+n,t.enum_display[e]=""+(i[e]||n),t.enum_values[e]=t.typecast(n)})}else if("boolean"===this.schema.type)t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],t.enum_options=["1","0"],t.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(e=0;e<this.schema.enumSource.length;e++)"string"==typeof this.schema.enumSource[e]?this.enumSource[e]={source:this.schema.enumSource[e]}:Array.isArray(this.schema.enumSource[e])?this.enumSource[e]=this.schema.enumSource[e]:this.enumSource[e]=r({},this.schema.enumSource[e]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(e=0;e<this.enumSource.length;e++)this.enumSource[e].value&&(this.enumSource[e].value=this.jsoneditor.compileTemplate(this.enumSource[e].value,this.template_engine)),this.enumSource[e].title&&(this.enumSource[e].title=this.jsoneditor.compileTemplate(this.enumSource[e].title,this.template_engine)),this.enumSource[e].filter&&(this.enumSource[e].filter=this.jsoneditor.compileTemplate(this.enumSource[e].filter,this.template_engine))}},build:function(){var e=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var e=this.input.value;-1===this.enum_options.indexOf(e)&&this.enum_options[0],this.value=this.enum_values[this.enum_options.indexOf(e)],this.onChange(!0)},setupSelectize:function(){var t=this;if(e&&e.fn&&e.fn.selectize&&(this.enum_options.length>=2||this.enum_options.length&&this.enumSource)){var i=r({},a.plugins.selectize);this.schema.options&&this.schema.options.selectize_options&&(i=r(i,this.schema.options.selectize_options)),this.selectize=e(this.input).selectize(r(i,{create:!0,onChange:function(){t.onInputChange()}}))}else this.selectize=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelectize()},onWatchedFieldChange:function(){var e,t;if(this.enumSource){e=this.getWatchedFieldValues();for(var i=[],n=[],r=0;r<this.enumSource.length;r++)if(Array.isArray(this.enumSource[r]))i=i.concat(this.enumSource[r]),n=n.concat(this.enumSource[r]);else if(e[this.enumSource[r].source]){var s=e[this.enumSource[r].source];if(this.enumSource[r].slice&&(s=Array.prototype.slice.apply(s,this.enumSource[r].slice)),this.enumSource[r].filter){var o=[];for(t=0;t<s.length;t++)this.enumSource[r].filter({i:t,item:s[t]})&&o.push(s[t]);s=o}var a=[],l=[];for(t=0;t<s.length;t++){var h=s[t];this.enumSource[r].value?l[t]=this.enumSource[r].value({i:t,item:h}):l[t]=s[t],this.enumSource[r].title?a[t]=this.enumSource[r].title({i:t,item:h}):a[t]=l[t]}i=i.concat(l),n=n.concat(a)}var u=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,-1!==i.indexOf(u)?(this.input.value=u,this.value=u):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.selectize?this.updateSelectizeOptions(i):this.setupSelectize(),this._super()}},updateSelectizeOptions:function(e){var t=this.selectize[0].selectize,i=this;for(var n in t.off(),t.clearOptions(),e)t.addOption({value:e[n],text:e[n]});t.addItem(this.value),t.on("change",function(){i.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock()),this._super()},disable:function(){this.input.disabled=!0,this.selectize&&this.selectize[0].selectize.lock(),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null),this._super()}}),a.defaults.editors.multiselect=a.AbstractEditor.extend({preBuild:function(){var e;this._super(),this.select_options={},this.select_values={};var t=this.jsoneditor.expandRefs(this.schema.items||{}),i=t.enum||[],n=t.options&&t.options.enum_titles||[];for(this.option_keys=[],this.option_titles=[],e=0;e<i.length;e++)this.sanitize(i[e])===i[e]&&(this.option_keys.push(i[e]+""),this.option_titles.push((n[e]||i[e])+""),this.select_values[i[e]+""]=i[e])},build:function(){var e,t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||"checkbox"===this.schema.format){for(this.input_type="checkboxes",this.inputs={},this.controls={},e=0;e<this.option_keys.length;e++){this.inputs[this.option_keys[e]]=this.theme.getCheckbox(),this.select_options[this.option_keys[e]]=this.inputs[this.option_keys[e]];var i=this.theme.getCheckboxLabel(this.option_titles[e]);this.controls[this.option_keys[e]]=this.theme.getFormControl(i,this.inputs[this.option_keys[e]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),e=0;e<this.option_keys.length;e++)this.select_options[this.option_keys[e]]=this.input.children[e];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control),this.control.addEventListener("change",function(i){i.preventDefault(),i.stopPropagation();var n=[];for(e=0;e<t.option_keys.length;e++)(t.select_options[t.option_keys[e]].selected||t.select_options[t.option_keys[e]].checked)&&n.push(t.select_values[t.option_keys[e]]);t.updateValue(n),t.onChange(!0)})},setValue:function(e,t){var i;for("object"!=typeof(e=e||[])?e=[e]:Array.isArray(e)||(e=[]),i=0;i<e.length;i++)"string"!=typeof e[i]&&(e[i]+="");for(i in this.select_options)this.select_options.hasOwnProperty(i)&&(this.select_options[i]["select"===this.input_type?"selected":"checked"]=-1!==e.indexOf(i));this.updateValue(e),this.onChange()},setupSelect2:function(){if(e&&e.fn&&e.fn.select2){var t=e.extend({},a.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(t=r(t,this.schema.options.select2_options)),this.select2=e(this.input).select2(t);var i=this;this.select2.on("select2-blur",function(){var e=i.select2.select2("val");i.value=e,i.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value,this.onChange(!0)},postBuild:function(){this._super(),this.setupSelect2()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var e=this.getTitle().length;for(var t in this.select_values)this.select_values.hasOwnProperty(t)&&(e=Math.max(e,(this.select_values[t]+"").length+4));return Math.min(12,Math.max(e/7,2))},updateValue:function(e){for(var t=!1,i=[],n=0;n<e.length;n++)if(this.select_options[e[n]+""]){var r=this.sanitize(this.select_values[e[n]]);i.push(r),r!==e[n]&&(t=!0)}else t=!0;return this.value=i,this.select2&&this.select2.select2("val",this.value),t},sanitize:function(e){return"number"===this.schema.items.type?1*e:"integer"===this.schema.items.type?Math.floor(1*e):""+e},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var e in this.inputs)this.inputs.hasOwnProperty(e)&&(this.inputs[e].disabled=!1);this.select2&&this.select2.select2("enable",!0)}this._super()},disable:function(){if(this.input)this.input.disabled=!0;else if(this.inputs)for(var e in this.inputs)this.inputs.hasOwnProperty(e)&&(this.inputs[e].disabled=!0);this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),a.defaults.editors.base64=a.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var e=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(t){e.value=t.target.result,e.refreshPreview(),e.onChange(!0),i=null},i.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var e=this.value.match(/^data:([^;,]+)[;,]/);if(e&&(e=e[1]),e){if(this.preview.innerHTML="<strong>Type:</strong> "+e+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes","image"===e.substr(0,5)){this.preview.innerHTML+="<br>";var t=document.createElement("img");t.style.maxWidth="100%",t.style.maxHeight="100px",t.src=this.value,this.preview.appendChild(t)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.refreshPreview(),this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),a.defaults.editors.upload=a.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var e=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(t){e.preview_value=t.target.result,e.refreshPreview(),e.onChange(!0),i=null},i.readAsDataURL(this.files[0])}})}var t=this.schema.description;t||(t=""),this.preview=this.theme.getFormInputDescription(t),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var e=this,t=this.preview_value.match(/^data:([^;,]+)[;,]/);t&&(t=t[1]),t||(t="unknown");var i=this.uploader.files[0];if(this.preview.innerHTML="<strong>Type:</strong> "+t+", <strong>Size:</strong> "+i.size+" bytes","image"===t.substr(0,5)){this.preview.innerHTML+="<br>";var n=document.createElement("img");n.style.maxWidth="100%",n.style.maxHeight="100px",n.src=this.preview_value,this.preview.appendChild(n)}this.preview.innerHTML+="<br>";var r=this.getButton("Upload","upload","Upload");this.preview.appendChild(r),r.addEventListener("click",function(t){t.preventDefault(),r.setAttribute("disabled","disabled"),e.theme.removeInputError(e.uploader),e.theme.getProgressBar&&(e.progressBar=e.theme.getProgressBar(),e.preview.appendChild(e.progressBar)),e.jsoneditor.options.upload(e.path,i,{success:function(t){e.setValue(t),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),e.progressBar&&e.preview.removeChild(e.progressBar),r.removeAttribute("disabled")},failure:function(t){e.theme.addInputError(e.uploader,t),e.progressBar&&e.preview.removeChild(e.progressBar),r.removeAttribute("disabled")},updateProgress:function(t){e.progressBar&&(t?e.theme.updateProgressBar(e.progressBar,t):e.theme.updateProgressBarUnknown(e.progressBar))}})})}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),a.defaults.editors.checkbox=a.AbstractEditor.extend({setValue:function(e,t){this.value=!!e,this.input.checked=this.value,this.onChange()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var e=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getCheckbox(),this.control=this.theme.getFormControl(this.label,this.input,this.description),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.value=this.checked,e.onChange(!0)}),this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()}}),a.defaults.editors.arraySelectize=a.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle()),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.error_holder=document.createElement("div"),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description)),this.input=document.createElement("select"),this.input.setAttribute("multiple","multiple");var t=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(t),this.container.appendChild(this.error_holder),e(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var e=this;this.input.selectize.on("change",function(t){e.refreshValue(),e.onChange(!0)})},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()},empty:function(e){},setValue:function(e,t){var i=this;e=e||[],Array.isArray(e)||(e=[e]),this.input.selectize.clearOptions(),this.input.selectize.clear(!0),e.forEach(function(e){i.input.selectize.addOption({text:e,value:e})}),this.input.selectize.setValue(e),this.refreshValue(t)},refreshValue:function(e){this.value=this.input.selectize.getValue()},showValidationErrors:function(e){var t=this,i=[],n=[];if(s(e,function(e,r){r.path===t.path?i.push(r):n.push(r)}),this.error_holder)if(i.length){this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(e,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})}else this.error_holder.style.display="none"}});var l,h=(l=document.documentElement).matches?"matches":l.webkitMatchesSelector?"webkitMatchesSelector":l.mozMatchesSelector?"mozMatchesSelector":l.msMatchesSelector?"msMatchesSelector":l.oMatchesSelector?"oMatchesSelector":void 0;a.AbstractTheme=t.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var e=document.createElement("div");return e.style=e.style||{},e.style.cssFloat="right",e.style.marginLeft="10px",e},getModal:function(){var e=document.createElement("div");return e.style.backgroundColor="white",e.style.border="1px solid black",e.style.boxShadow="3px 3px black",e.style.position="absolute",e.style.zIndex="10",e.style.display="none",e},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var e=document.createElement("div");return e.className="row",e},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(e,t){},getLink:function(e){var t=document.createElement("a");return t.setAttribute("href","#"),t.appendChild(document.createTextNode(e)),t},disableHeader:function(e){e.style.color="#ccc"},disableLabel:function(e){e.style.color="#ccc"},enableHeader:function(e){e.style.color=""},enableLabel:function(e){e.style.color=""},getFormInputLabel:function(e){var t=document.createElement("label");return t.appendChild(document.createTextNode(e)),t},getCheckboxLabel:function(e){var t=this.getFormInputLabel(e);return t.style.fontWeight="normal",t},getHeader:function(e){var t=document.createElement("h3");return"string"==typeof e?t.textContent=e:t.appendChild(e),t},getCheckbox:function(){var e=this.getFormInputField("checkbox");return e.style.display="inline-block",e.style.width="auto",e},getMultiCheckboxHolder:function(e,t,i){var n=document.createElement("div");for(var r in t&&(t.style.display="block",n.appendChild(t)),e)e.hasOwnProperty(r)&&(e[r].style.display="inline-block",e[r].style.marginRight="20px",n.appendChild(e[r]));return i&&n.appendChild(i),n},getSelectInput:function(e){var t=document.createElement("select");return e&&this.setSelectOptions(t,e),t},getSwitcher:function(e){var t=this.getSelectInput(e);return t.style.backgroundColor="transparent",t.style.display="inline-block",t.style.fontStyle="italic",t.style.fontWeight="normal",t.style.height="auto",t.style.marginBottom=0,t.style.marginLeft="5px",t.style.padding="0 0 0 3px",t.style.width="auto",t},getSwitcherOptions:function(e){return e.getElementsByTagName("option")},setSwitcherOptions:function(e,t,i){this.setSelectOptions(e,t,i)},setSelectOptions:function(e,t,i){i=i||[],e.innerHTML="";for(var n=0;n<t.length;n++){var r=document.createElement("option");r.setAttribute("value",t[n]),r.textContent=i[n]||t[n],e.appendChild(r)}},getTextareaInput:function(){var e=document.createElement("textarea");return e.style=e.style||{},e.style.width="100%",e.style.height="300px",e.style.boxSizing="border-box",e},getRangeInput:function(e,t,i){var n=this.getFormInputField("range");return n.setAttribute("min",e),n.setAttribute("max",t),n.setAttribute("step",i),n},getFormInputField:function(e){var t=document.createElement("input");return t.setAttribute("type",e),t},afterInputReady:function(e){},getFormControl:function(e,t,i){var n=document.createElement("div");return n.className="form-control",e&&n.appendChild(e),"checkbox"===t.type?e.insertBefore(t,e.firstChild):n.appendChild(t),i&&n.appendChild(i),n},getIndentedPanel:function(){var e=document.createElement("div");return e.style=e.style||{},e.style.paddingLeft="10px",e.style.marginLeft="10px",e.style.borderLeft="1px solid #ccc",e},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(e){var t=document.createElement("p");return t.innerHTML=e,t},getCheckboxDescription:function(e){return this.getDescription(e)},getFormInputDescription:function(e){return this.getDescription(e)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(e,t,i){var n=document.createElement("button");return n.type="button",this.setButtonText(n,e,t,i),n},setButtonText:function(e,t,i,n){e.innerHTML="",i&&(e.appendChild(i),e.innerHTML+=" "),e.appendChild(document.createTextNode(t)),n&&e.setAttribute("title",n)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(e){var t=document.createElement("th");return t.textContent=e,t},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(e){var t=document.createElement("p");return t.style=t.style||{},t.style.color="red",t.appendChild(document.createTextNode(e)),t},addInputError:function(e,t){},removeInputError:function(e){},addTableRowError:function(e){},removeTableRowError:function(e){},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>",e},applyStyles:function(e,t){for(var i in e.style=e.style||{},t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},closest:function(e,t){for(;e&&e!==document;){if(!e[h])return!1;if(e[h](t))return e;e=e.parentNode}return!1},getTab:function(e){var t=document.createElement("div");return t.appendChild(e),t.style=t.style||{},this.applyStyles(t,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(e){this.applyStyles(e,{opacity:1,background:"white"})},markTabInactive:function(e){this.applyStyles(e,{opacity:.5,background:""})},addTab:function(e,t){e.children[0].appendChild(t)},getBlockLink:function(){var e=document.createElement("a");return e.style.display="block",e},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(e,t,i){e.appendChild(t),i.style.width="100%",e.appendChild(i)},createImageLink:function(e,t,i){e.appendChild(t),t.appendChild(i)}}),a.defaults.themes.bootstrap2=a.AbstractTheme.extend({getRangeInput:function(e,t,i){return this._super(e,t,i)},getGridContainer:function(){var e=document.createElement("div");return e.className="container-fluid",e},getGridRow:function(){var e=document.createElement("div");return e.className="row-fluid",e},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="inline-block",t.style.fontWeight="bold",t},setGridColumnSize:function(e,t){e.className="span"+t},getSelectInput:function(e){var t=this._super(e);return t.style.width="auto",t.style.maxWidth="98%",t},getFormInputField:function(e){var t=this._super(e);return t.style.width="98%",t},afterInputReady:function(e){e.controlgroup||(e.controlgroup=this.closest(e,".control-group"),e.controls=this.closest(e,".controls"),this.closest(e,".compact")&&(e.controlgroup.className=e.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),e.controls.className=e.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),e.style.marginBottom=0))},getIndentedPanel:function(){var e=document.createElement("div");return e.className="well well-small",e.style.paddingBottom=0,e},getFormInputDescription:function(e){var t=document.createElement("p");return t.className="help-inline",t.textContent=e,t},getFormControl:function(e,t,i){var n=document.createElement("div");n.className="control-group";var r=document.createElement("div");return r.className="controls",e&&"checkbox"===t.getAttribute("type")?(n.appendChild(r),e.className+=" checkbox",e.appendChild(t),r.appendChild(e),r.style.height="30px"):(e&&(e.className+=" control-label",n.appendChild(e)),r.appendChild(t),n.appendChild(r)),i&&r.appendChild(i),n},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="btn-group",e},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className+=" btn btn-default",n},getTable:function(){var e=document.createElement("table");return e.className="table table-bordered",e.style.width="auto",e.style.maxWidth="none",e},addInputError:function(e,t){e.controlgroup&&e.controls&&(e.controlgroup.className+=" error",e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.className="help-block errormsg",e.controls.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.className=e.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var e=document.createElement("div");return e.className="tabbable tabs-left",e.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>",e},getTab:function(e){var t=document.createElement("li"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(e),t.appendChild(i),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="tab-pane active",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s?active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("div");return t.className="bar",t.style.width="0%",e.appendChild(t),e},updateProgressBar:function(e,t){e&&(e.firstChild.style.width=t+"%")},updateProgressBarUnknown:function(e){e&&(e.className="progress progress-striped active",e.firstChild.style.width="100%")}}),a.defaults.themes.bootstrap3=a.AbstractTheme.extend({getSelectInput:function(e){var t=this._super(e);return t.className+="form-control",t},setGridColumnSize:function(e,t){e.className="col-md-"+t},afterInputReady:function(e){e.controlgroup||(e.controlgroup=this.closest(e,".form-group"),this.closest(e,".compact")&&(e.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var e=document.createElement("textarea");return e.className="form-control",e},getRangeInput:function(e,t,i){return this._super(e,t,i)},getFormInputField:function(e){var t=this._super(e);return"checkbox"!==e&&(t.className+="form-control"),t},getFormControl:function(e,t,i){var n=document.createElement("div");return e&&"checkbox"===t.type?(n.className+=" checkbox",e.appendChild(t),e.style.fontSize="14px",n.style.marginTop="0",n.appendChild(e),t.style.position="relative",t.style.cssFloat="left"):(n.className+=" form-group",e&&(e.className+=" control-label",n.appendChild(e)),n.appendChild(t)),i&&n.appendChild(i),n},getIndentedPanel:function(){var e=document.createElement("div");return e.className="well well-sm",e.style.paddingBottom=0,e},getFormInputDescription:function(e){var t=document.createElement("p");return t.className="help-block",t.innerHTML=e,t},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="btn-group",e},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className+="btn btn-default",n},getTable:function(){var e=document.createElement("table");return e.className="table table-bordered",e.style.width="auto",e.style.maxWidth="none",e},addInputError:function(e,t){e.controlgroup&&(e.controlgroup.className+=" has-error",e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.className="help-block errormsg",e.controlgroup.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.className=e.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>",e.className="rows",e},getTab:function(e){var t=document.createElement("a");return t.className="list-group-item",t.setAttribute("href","#"),t.appendChild(e),t},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s?active/g,"")},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("div");return t.className="progress-bar",t.setAttribute("role","progressbar"),t.setAttribute("aria-valuenow",0),t.setAttribute("aria-valuemin",0),t.setAttribute("aria-valuenax",100),t.innerHTML="0%",e.appendChild(t),e},updateProgressBar:function(e,t){if(e){var i=e.firstChild,n=t+"%";i.setAttribute("aria-valuenow",t),i.style.width=n,i.innerHTML=n}},updateProgressBarUnknown:function(e){if(e){var t=e.firstChild;e.className="progress progress-striped active",t.removeAttribute("aria-valuenow"),t.style.width="100%",t.innerHTML=""}}}),a.defaults.themes.foundation=a.AbstractTheme.extend({getChildEditorHolder:function(){var e=document.createElement("div");return e.style.marginBottom="15px",e},getSelectInput:function(e){var t=this._super(e);return t.style.minWidth="none",t.style.padding="5px",t.style.marginTop="3px",t},getSwitcher:function(e){var t=this._super(e);return t.style.paddingRight="8px",t},afterInputReady:function(e){this.closest(e,".compact")&&(e.style.marginBottom=0),e.group=this.closest(e,".form-control")},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="inline-block",t},getFormInputField:function(e){var t=this._super(e);return t.style.width="100%",t.style.marginBottom="checkbox"===e?"0":"12px",t},getFormInputDescription:function(e){var t=document.createElement("p");return t.textContent=e,t.style.marginTop="-10px",t.style.fontStyle="italic",t},getIndentedPanel:function(){var e=document.createElement("div");return e.className="panel",e.style.paddingBottom=0,e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.display="inline-block",e.style.marginLeft="10px",e.style.verticalAlign="middle",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="button-group",e},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className+=" small button",n},addInputError:function(e,t){e.group&&(e.group.className+=" error",e.errmsg?e.errmsg.style.display="":(e.insertAdjacentHTML("afterend",'<small class="error"></small>'),e.errmsg=e.parentNode.getElementsByClassName("error")[0]),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.group.className=e.group.className.replace(/ error/g,""),e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("span");return t.className="meter",t.style.width="0%",e.appendChild(t),e},updateProgressBar:function(e,t){e&&(e.firstChild.style.width=t+"%")},updateProgressBarUnknown:function(e){e&&(e.firstChild.style.width="100%")}}),a.defaults.themes.foundation3=a.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var e=this._super();return e.style.fontSize=".6em",e},getFormInputLabel:function(e){var t=this._super(e);return t.style.fontWeight="bold",t},getTabHolder:function(){var e=document.createElement("div");return e.className="row",e.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>",e},setGridColumnSize:function(e,t){e.className="columns "+["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"][t]},getTab:function(e){var t=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(e),t.appendChild(i),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="content active",e.style.paddingLeft="5px",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s*active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)}}),a.defaults.themes.foundation4=a.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var e=this._super();return e.style.fontSize=".6em",e},setGridColumnSize:function(e,t){e.className="columns large-"+t},getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8rem",t},getFormInputLabel:function(e){var t=this._super(e);return t.style.fontWeight="bold",t}}),a.defaults.themes.foundation5=a.defaults.themes.foundation.extend({getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8rem",t},setGridColumnSize:function(e,t){e.className="columns medium-"+t},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className=n.className.replace(/\s*small/g,"")+" tiny",n},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>",e},getTab:function(e){var t=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(e),t.appendChild(i),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="content active",e.style.paddingLeft="5px",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s*active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)}}),a.defaults.themes.foundation6=a.defaults.themes.foundation5.extend({getIndentedPanel:function(){var e=document.createElement("div");return e.className="callout secondary",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="button-group tiny",e.style.marginBottom=0,e},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="block",t},getFormControl:function(e,t,i){var n=document.createElement("div");return n.className="form-control",e&&n.appendChild(e),"checkbox"===t.type?e.insertBefore(t,e.firstChild):e?e.appendChild(t):n.appendChild(t),i&&e.appendChild(i),n},addInputError:function(e,t){if(e.group){if(e.group.className+=" error",e.errmsg)e.errmsg.style.display="",e.className="";else{var i=document.createElement("span");i.className="form-error is-visible",e.group.getElementsByTagName("label")[0].appendChild(i),e.className=e.className+" is-invalid-input",e.errmsg=i}e.errmsg.textContent=t}},removeInputError:function(e){e.errmsg&&(e.className=e.className.replace(/ is-invalid-input/g,""),e.errmsg.parentNode&&e.errmsg.parentNode.removeChild(e.errmsg))}}),a.defaults.themes.html=a.AbstractTheme.extend({getFormInputLabel:function(e){var t=this._super(e);return t.style.display="block",t.style.marginBottom="3px",t.style.fontWeight="bold",t},getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8em",t.style.margin=0,t.style.display="inline-block",t.style.fontStyle="italic",t},getIndentedPanel:function(){var e=this._super();return e.style.border="1px solid #ddd",e.style.padding="5px",e.style.margin="5px",e.style.borderRadius="3px",e},getChildEditorHolder:function(){var e=this._super();return e.style.marginBottom="8px",e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.display="inline-block",e.style.marginLeft="10px",e.style.fontSize=".8em",e.style.verticalAlign="middle",e},getTable:function(){var e=this._super();return e.style.borderBottom="1px solid #ccc",e.style.marginBottom="5px",e},addInputError:function(e,t){if(e.style.borderColor="red",e.errmsg)e.errmsg.style.display="block";else{var i=this.closest(e,".form-control");e.errmsg=document.createElement("div"),e.errmsg.setAttribute("class","errmsg"),e.errmsg.style=e.errmsg.style||{},e.errmsg.style.color="red",i.appendChild(e.errmsg)}e.errmsg.innerHTML="",e.errmsg.appendChild(document.createTextNode(t))},removeInputError:function(e){e.style.borderColor="",e.errmsg&&(e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("progress");return e.setAttribute("max",100),e.setAttribute("value",0),e},updateProgressBar:function(e,t){e&&e.setAttribute("value",t)},updateProgressBarUnknown:function(e){e&&e.removeAttribute("value")}}),a.defaults.themes.jqueryui=a.AbstractTheme.extend({getTable:function(){var e=this._super();return e.setAttribute("cellpadding",5),e.setAttribute("cellspacing",0),e},getTableHeaderCell:function(e){var t=this._super(e);return t.className="ui-state-active",t.style.fontWeight="bold",t},getTableCell:function(){var e=this._super();return e.className="ui-widget-content",e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e.style.fontSize=".6em",e.style.display="inline-block",e},getFormInputDescription:function(e){var t=this.getDescription(e);return t.style.marginLeft="10px",t.style.display="inline-block",t},getFormControl:function(e,t,i){var n=this._super(e,t,i);return"checkbox"===t.type?(n.style.lineHeight="25px",n.style.padding="3px 0"):n.style.padding="4px 0 8px 0",n},getDescription:function(e){var t=document.createElement("span");return t.style.fontSize=".8em",t.style.fontStyle="italic",t.textContent=e,t},getButtonHolder:function(){var e=document.createElement("div");return e.className="ui-buttonset",e.style.fontSize=".7em",e},getFormInputLabel:function(e){var t=document.createElement("label");return t.style.fontWeight="bold",t.style.display="block",t.textContent=e,t},getButton:function(e,t,i){var n=document.createElement("button");n.className="ui-button ui-widget ui-state-default ui-corner-all",t&&!e?(n.className+=" ui-button-icon-only",t.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(t)):t?(n.className+=" ui-button-text-icon-primary",t.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(t)):n.className+=" ui-button-text-only";var r=document.createElement("span");return r.className="ui-button-text",r.textContent=e||i||".",n.appendChild(r),n.setAttribute("title",i),n},setButtonText:function(e,t,i,n){e.innerHTML="",e.className="ui-button ui-widget ui-state-default ui-corner-all",i&&!t?(e.className+=" ui-button-icon-only",i.className+=" ui-button-icon-primary ui-icon-primary",e.appendChild(i)):i?(e.className+=" ui-button-text-icon-primary",i.className+=" ui-button-icon-primary ui-icon-primary",e.appendChild(i)):e.className+=" ui-button-text-only";var r=document.createElement("span");r.className="ui-button-text",r.textContent=t||n||".",e.appendChild(r),e.setAttribute("title",n)},getIndentedPanel:function(){var e=document.createElement("div");return e.className="ui-widget-content ui-corner-all",e.style.padding="1em 1.4em",e.style.marginBottom="20px",e},afterInputReady:function(e){e.controls||(e.controls=this.closest(e,".form-control"))},addInputError:function(e,t){e.controls&&(e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("div"),e.errmsg.className="ui-state-error",e.controls.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none")},markTabActive:function(e){e.className=e.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(e){e.className=e.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}}),a.defaults.themes.barebones=a.AbstractTheme.extend({getFormInputLabel:function(e){return this._super(e)},getFormInputDescription:function(e){return this._super(e)},getIndentedPanel:function(){return this._super()},getChildEditorHolder:function(){return this._super()},getHeaderButtonHolder:function(){return this.getButtonHolder()},getTable:function(){return this._super()},addInputError:function(e,t){if(e.errmsg)e.errmsg.style.display="block";else{var i=this.closest(e,".form-control");e.errmsg=document.createElement("div"),e.errmsg.setAttribute("class","errmsg"),i.appendChild(e.errmsg)}e.errmsg.innerHTML="",e.errmsg.appendChild(document.createTextNode(t))},removeInputError:function(e){e.style.borderColor="",e.errmsg&&(e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("progress");return e.setAttribute("max",100),e.setAttribute("value",0),e},updateProgressBar:function(e,t){e&&e.setAttribute("value",t)},updateProgressBarUnknown:function(e){e&&e.removeAttribute("value")}}),a.AbstractIconLib=t.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(e){return this.mapping[e]?this.icon_prefix+this.mapping[e]:null},getIcon:function(e){var t=this.getIconClass(e);if(!t)return null;var i=document.createElement("i");return i.className=t,i}}),a.defaults.iconlibs.bootstrap2=a.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),a.defaults.iconlibs.bootstrap3=a.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"}),a.defaults.iconlibs.fontawesome3=a.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),a.defaults.iconlibs.fontawesome4=a.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),a.defaults.iconlibs.foundation2=a.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"}),a.defaults.iconlibs.foundation3=a.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"}),a.defaults.iconlibs.jqueryui=a.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"}),a.defaults.templates.default=function(){return{compile:function(e){var t=e.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),i=t&&t.length;if(!i)return function(){return e};for(var n=[],r=function(e){var i,r,s=t[e].replace(/[{}]+/g,"").trim().split("."),o=s.length;o>1?i=function(t){for(r=t,e=0;e<o&&(r=r[s[e]]);e++);return r}:(s=s[0],i=function(e){return e[s]});n.push({s:t[e],r:i})},s=0;s<i;s++)r(s);return function(t){var r,o=e+"";for(s=0;s<i;s++)r=n[s],o=o.replace(r.s,r.r(t));return o}}}},a.defaults.templates.ejs=function(){return!!window.EJS&&{compile:function(e){var t=new window.EJS({text:e});return function(e){return t.render(e)}}}},a.defaults.templates.handlebars=function(){return window.Handlebars},a.defaults.templates.hogan=function(){return!!window.Hogan&&{compile:function(e){var t=window.Hogan.compile(e);return function(e){return t.render(e)}}}},a.defaults.templates.markup=function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(e){return function(t){return window.Mark.up(e,t)}}}},a.defaults.templates.mustache=function(){return!!window.Mustache&&{compile:function(e){return function(t){return window.Mustache.render(e,t)}}}},a.defaults.templates.swig=function(){return window.swig},a.defaults.templates.underscore=function(){return!!window._&&{compile:function(e){return function(t){return window._.template(e,t)}}}},a.defaults.theme="html",a.defaults.template="default",a.defaults.options={},a.defaults.translate=function(e,t){var i=a.defaults.languages[a.defaults.language];if(!i)throw"Unknown language "+a.defaults.language;var n=i[e]||a.defaults.languages[a.defaults.default_language][e];if(void 0===n)throw"Unknown translate string "+e;if(t)for(var r=0;r<t.length;r++)n=n.replace(new RegExp("\\{\\{"+r+"}}","g"),t[r]);return n},a.defaults.default_language="en",a.defaults.language=a.defaults.default_language,a.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand"},a.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{},selectize:{}},s(a.defaults.editors,function(e,t){a.defaults.editors[e].options=t.options||{}}),a.defaults.resolvers.unshift(function(e){if("string"!=typeof e.type)return"multiple"}),a.defaults.resolvers.unshift(function(e){if(!e.type&&e.properties)return"object"}),a.defaults.resolvers.unshift(function(e){if("string"==typeof e.type)return e.type}),a.defaults.resolvers.unshift(function(e){if("boolean"===e.type)return"checkbox"===e.format||e.options&&e.options.checkbox?"checkbox":a.plugins.selectize.enable?"selectize":"select"}),a.defaults.resolvers.unshift(function(e){if("any"===e.type)return"multiple"}),a.defaults.resolvers.unshift(function(e){if("string"===e.type&&e.media&&"base64"===e.media.binaryEncoding)return"base64"}),a.defaults.resolvers.unshift(function(e){if("string"===e.type&&"url"===e.format&&e.options&&!0===e.options.upload&&window.FileReader)return"upload"}),a.defaults.resolvers.unshift(function(e){if("array"==e.type&&"table"==e.format)return"table"}),a.defaults.resolvers.unshift(function(e){if(e.enumSource)return a.plugins.selectize.enable?"selectize":"select"}),a.defaults.resolvers.unshift(function(e){if(e.enum){if("array"===e.type||"object"===e.type)return"enum";if("number"===e.type||"integer"===e.type||"string"===e.type)return a.plugins.selectize.enable?"selectize":"select"}}),a.defaults.resolvers.unshift(function(e){if("array"===e.type&&e.items&&!Array.isArray(e.items)&&e.uniqueItems&&["string","number","integer"].indexOf(e.items.type)>=0){if(e.items.enum)return"multiselect";if(a.plugins.selectize.enable&&"string"===e.items.type)return"arraySelectize"}}),a.defaults.resolvers.unshift(function(e){if(e.oneOf||e.anyOf)return"multiple"}),function(){if(e||window.Zepto){var t=e||window.Zepto;t.jsoneditor=a.defaults,t.fn.jsoneditor=function(e){var t=this,i=this.data("jsoneditor");if("value"===e){if(!i)throw"Must initialize jsoneditor before getting/setting the value";if(!(arguments.length>1))return i.getValue();i.setValue(arguments[1])}else{if("validate"===e){if(!i)throw"Must initialize jsoneditor before validating";return arguments.length>1?i.validate(arguments[1]):i.validate()}"destroy"===e?i&&(i.destroy(),this.data("jsoneditor",null)):(i&&i.destroy(),i=new a(this.get(0),e),this.data("jsoneditor",i),i.on("change",function(){t.trigger("change")}),i.on("ready",function(){t.trigger("ready")}))}return this}}}(),window.JSONEditor=a}()}).call(t,i(2))},2:function(e,t,i){var n;!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,r){"use strict";var s=[],o=i.document,a=Object.getPrototypeOf,l=s.slice,h=s.concat,u=s.push,d=s.indexOf,c={},p=c.toString,f=c.hasOwnProperty,m=f.toString,g=m.call(Object),y={};function v(e,t){var i=(t=t||o).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}var b=function(e,t){return new b.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^-ms-/,x=/-([a-z])/g,C=function(e,t){return t.toUpperCase()};function E(e){var t=!!e&&"length"in e&&e.length,i=b.type(e);return"function"!==i&&!b.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}b.fn=b.prototype={jquery:"3.2.1",constructor:b,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},b.extend=b.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[a]||{},a++),"object"==typeof o||b.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(n=e[t])&&(h&&n&&(b.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,s=i&&Array.isArray(i)?i:[]):s=i&&b.isPlainObject(i)?i:{},o[t]=b.extend(h,s,n)):void 0!==n&&(o[t]=n));return o},b.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===b.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==p.call(e))&&(!(t=a(e))||"function"==typeof(i=f.call(t,"constructor")&&t.constructor)&&m.call(i)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[p.call(e)]||"object":typeof e},globalEval:function(e){v(e)},camelCase:function(e){return e.replace(w,"ms-").replace(x,C)},each:function(e,t){var i,n=0;if(E(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(E(Object(e))?b.merge(i,"string"==typeof e?[e]:e):u.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:d.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,s=e.length,o=!i;r<s;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,i){var n,r,s=0,o=[];if(E(e))for(n=e.length;s<n;s++)null!=(r=t(e[s],s,i))&&o.push(r);else for(s in e)null!=(r=t(e[s],s,i))&&o.push(r);return h.apply([],o)},guid:1,proxy:function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),b.isFunction(e))return n=l.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||b.guid++,r},now:Date.now,support:y}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=s[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var k=function(e){var t,i,n,r,s,o,a,l,h,u,d,c,p,f,m,g,y,v,b,_="sizzle"+1*new Date,w=e.document,x=0,C=0,E=oe(),k=oe(),T=oe(),N=function(e,t){return e===t&&(d=!0),0},j={}.hasOwnProperty,A=[],S=A.pop,O=A.push,I=A.push,L=A.slice,P=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",q="\\["+D+"*("+B+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+D+"*\\]",F=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",M=new RegExp(D+"+","g"),V=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),R=new RegExp("^"+D+"*,"+D+"*"),z=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),W=new RegExp("="+D+"*([^\\]'\"]*?)"+D+"*\\]","g"),U=new RegExp(F),$=new RegExp("^"+B+"$"),J={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,K=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){c()},re=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{I.apply(A=L.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){I={apply:A.length?function(e,t){O.apply(e,L.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function se(e,t,n,r){var s,a,h,u,d,f,y,v=t&&t.ownerDocument,x=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return n;if(!r&&((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,m)){if(11!==x&&(d=Z.exec(e)))if(s=d[1]){if(9===x){if(!(h=t.getElementById(s)))return n;if(h.id===s)return n.push(h),n}else if(v&&(h=v.getElementById(s))&&b(t,h)&&h.id===s)return n.push(h),n}else{if(d[2])return I.apply(n,t.getElementsByTagName(e)),n;if((s=d[3])&&i.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(s)),n}if(i.qsa&&!T[e+" "]&&(!g||!g.test(e))){if(1!==x)v=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ie):t.setAttribute("id",u=_),a=(f=o(e)).length;a--;)f[a]="#"+u+" "+ye(f[a]);y=f.join(","),v=Q.test(e)&&me(t.parentNode)||t}if(y)try{return I.apply(n,v.querySelectorAll(y)),n}catch(e){}finally{u===_&&t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,n,r)}function oe(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function ae(e){return e[_]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ce(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},c=se.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:w;return o!==p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,m=!s(p),w!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=Y.test(p.getElementsByClassName),i.getById=le(function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(K,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(K,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i,n,r,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(r=t.getElementsByName(e),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(i.qsa=Y.test(p.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+D+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+D+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+D+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=Y.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){i.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),y.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=Y.test(f.compareDocumentPosition),b=t||Y.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===w&&b(w,e)?-1:t===p||t.ownerDocument===w&&b(w,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,o=[e],a=[t];if(!r||!s)return e===p?-1:t===p?1:r?-1:s?1:u?P(u,e)-P(u,t):0;if(r===s)return ue(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?ue(o[n],a[n]):o[n]===w?-1:a[n]===w?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(W,"='$1']"),i.matchesSelector&&m&&!T[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var n=v.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&c(e);var r=n.attrHandle[t.toLowerCase()],s=r&&j.call(n.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==s?s:i.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,s=0;if(d=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(N),d){for(;t=e[s++];)t===e[s]&&(r=n.push(s));for(;r--;)e.splice(n[r],1)}return u=null,e},r=se.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=se.selectors={cacheLength:50,createPseudo:ae,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(K,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&U.test(i)&&(t=o(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=se.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(M," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var h,u,d,c,p,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a,b=!1;if(g){if(s){for(;m;){for(c=t;c=c[m];)if(a?c.nodeName.toLowerCase()===y:1===c.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&v){for(b=(p=(h=(u=(d=(c=g)[_]||(c[_]={}))[c.uniqueID]||(d[c.uniqueID]={}))[e]||[])[0]===x&&h[1])&&h[2],c=p&&g.childNodes[p];c=++p&&c&&c[m]||(b=p=0)||f.pop();)if(1===c.nodeType&&++b&&c===t){u[e]=[x,p,b];break}}else if(v&&(b=p=(h=(u=(d=(c=t)[_]||(c[_]={}))[c.uniqueID]||(d[c.uniqueID]={}))[e]||[])[0]===x&&h[1]),!1===b)for(;(c=++p&&c&&c[m]||(b=p=0)||f.pop())&&((a?c.nodeName.toLowerCase()!==y:1!==c.nodeType)||!++b||(v&&((u=(d=c[_]||(c[_]={}))[c.uniqueID]||(d[c.uniqueID]={}))[e]=[x,b]),c!==t)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var n,s=r(e,t),o=s.length;o--;)e[n=P(e,s[o])]=!(i[n]=s[o])}):function(e){return r(e,0,i)}):r}},pseudos:{not:ae(function(e){var t=[],i=[],n=a(e.replace(V,"$1"));return n[_]?ae(function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,r,s){return t[0]=e,n(t,null,s,i),t[0]=null,!i.pop()}}),has:ae(function(e){return function(t){return se(e,t).length>0}}),contains:ae(function(e){return e=e.replace(K,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return $.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(K,ee).toLowerCase(),function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,i){return[i<0?i+t:i]}),even:fe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:fe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:fe(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:fe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=ce(t);function ge(){}function ye(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ve(e,t,i){var n=t.dir,r=t.next,s=r||n,o=i&&"parentNode"===s,a=C++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r);return!1}:function(t,i,l){var h,u,d,c=[x,a];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(u=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((h=u[s])&&h[0]===x&&h[1]===a)return c[2]=h[2];if(u[s]=c,c[2]=e(t,i,l))return!0}return!1}}function be(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function _e(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,h=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),h&&t.push(a)));return o}function we(e,t,i,n,r,s){return n&&!n[_]&&(n=we(n)),r&&!r[_]&&(r=we(r,s)),ae(function(s,o,a,l){var h,u,d,c=[],p=[],f=o.length,m=s||function(e,t,i){for(var n=0,r=t.length;n<r;n++)se(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:_e(m,c,e,a,l),y=i?r||(s?e:f||n)?[]:o:g;if(i&&i(g,y,a,l),n)for(h=_e(y,p),n(h,[],a,l),u=h.length;u--;)(d=h[u])&&(y[p[u]]=!(g[p[u]]=d));if(s){if(r||e){if(r){for(h=[],u=y.length;u--;)(d=y[u])&&h.push(g[u]=d);r(null,y=[],h,l)}for(u=y.length;u--;)(d=y[u])&&(h=r?P(s,d):c[u])>-1&&(s[h]=!(o[h]=d))}}else y=_e(y===o?y.splice(f,y.length):y),r?r(null,o,y,l):I.apply(o,y)})}function xe(e){for(var t,i,r,s=e.length,o=n.relative[e[0].type],a=o||n.relative[" "],l=o?1:0,u=ve(function(e){return e===t},a,!0),d=ve(function(e){return P(t,e)>-1},a,!0),c=[function(e,i,n){var r=!o&&(n||i!==h)||((t=i).nodeType?u(e,i,n):d(e,i,n));return t=null,r}];l<s;l++)if(i=n.relative[e[l].type])c=[ve(be(c),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<s&&!n.relative[e[r].type];r++);return we(l>1&&be(c),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),i,l<r&&xe(e.slice(l,r)),r<s&&xe(e=e.slice(r)),r<s&&ye(e))}c.push(i)}return be(c)}return ge.prototype=n.filters=n.pseudos,n.setFilters=new ge,o=se.tokenize=function(e,t){var i,r,s,o,a,l,h,u=k[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],h=n.preFilter;a;){for(o in i&&!(r=R.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=z.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(V," ")}),a=a.slice(i.length)),n.filter)!(r=J[o].exec(a))||h[o]&&!(r=h[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?se.error(e):k(e,l).slice(0)},a=se.compile=function(e,t){var i,r=[],s=[],a=T[e+" "];if(!a){for(t||(t=o(e)),i=t.length;i--;)(a=xe(t[i]))[_]?r.push(a):s.push(a);(a=T(e,function(e,t){var i=t.length>0,r=e.length>0,s=function(s,o,a,l,u){var d,f,g,y=0,v="0",b=s&&[],_=[],w=h,C=s||r&&n.find.TAG("*",u),E=x+=null==w?1:Math.random()||.1,k=C.length;for(u&&(h=o===p||o||u);v!==k&&null!=(d=C[v]);v++){if(r&&d){for(f=0,o||d.ownerDocument===p||(c(d),a=!m);g=e[f++];)if(g(d,o||p,a)){l.push(d);break}u&&(x=E)}i&&((d=!g&&d)&&y--,s&&b.push(d))}if(y+=v,i&&v!==y){for(f=0;g=t[f++];)g(b,_,o,a);if(s){if(y>0)for(;v--;)b[v]||_[v]||(_[v]=S.call(l));_=_e(_)}I.apply(l,_),u&&!s&&_.length>0&&y+t.length>1&&se.uniqueSort(l)}return u&&(x=E,h=w),b};return i?ae(s):s}(s,r))).selector=e}return a},l=se.select=function(e,t,i,r){var s,l,h,u,d,c="function"==typeof e&&e,p=!r&&o(e=c.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(h=l[0]).type&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(h.matches[0].replace(K,ee),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=J.needsContext.test(e)?0:l.length;s--&&(h=l[s],!n.relative[u=h.type]);)if((d=n.find[u])&&(r=d(h.matches[0].replace(K,ee),Q.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(s,1),!(e=r.length&&ye(l)))return I.apply(i,r),i;break}}return(c||a(e,p))(r,t,!m,i,!t||Q.test(e)&&me(t.parentNode)||t),i},i.sortStable=_.split("").sort(N).join("")===_,i.detectDuplicates=!!d,c(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||he(H,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),se}(i);b.find=k,b.expr=k.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=k.uniqueSort,b.text=k.getText,b.isXMLDoc=k.isXML,b.contains=k.contains,b.escapeSelector=k.escape;var T=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&b(e).is(i))break;n.push(e)}return n},N=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},j=b.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,O=/^.[^:#\[\.,]*$/;function I(e,t,i){return b.isFunction(t)?b.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?b.grep(e,function(e){return e===t!==i}):"string"!=typeof t?b.grep(e,function(e){return d.call(t,e)>-1!==i}):O.test(t)?b.filter(t,e,i):(t=b.filter(t,e),b.grep(e,function(e){return d.call(t,e)>-1!==i&&1===e.nodeType}))}b.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?b.find.matchesSelector(n,e)?[n]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},b.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<n;t++)if(b.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)b.find(e,r[t],i);return n>1?b.uniqueSort(i):i},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&j.test(e)?b(e):e||[],!1).length}});var L,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||L,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof b?t[0]:t,b.merge(this,b.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),S.test(n[1])&&b.isPlainObject(t))for(n in t)b.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=o.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):b.isFunction(e)?void 0!==i.ready?i.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,L=b(o);var H=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function B(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(b.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,s=[],o="string"!=typeof e&&b(e);if(!j.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&b.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?b.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?d.call(b(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,i){return T(e,"parentNode",i)},next:function(e){return B(e,"nextSibling")},prev:function(e){return B(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,i){return T(e,"nextSibling",i)},prevUntil:function(e,t,i){return T(e,"previousSibling",i)},siblings:function(e){return N((e.parentNode||{}).firstChild,e)},children:function(e){return N(e.firstChild)},contents:function(e){return A(e,"iframe")?e.contentDocument:(A(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},function(e,t){b.fn[e]=function(i,n){var r=b.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=b.filter(n,r)),this.length>1&&(D[e]||b.uniqueSort(r),H.test(e)&&r.reverse()),this.pushStack(r)}});var q=/[^\x20\t\r\n\f]+/g;function F(e){return e}function M(e){throw e}function V(e,t,i,n){var r;try{e&&b.isFunction(r=e.promise)?r.call(e).done(t).fail(i):e&&b.isFunction(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}b.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return b.each(e.match(q)||[],function(e,i){t[i]=!0}),t}(e):b.extend({},e);var t,i,n,r,s=[],o=[],a=-1,l=function(){for(r=r||e.once,n=t=!0;o.length;a=-1)for(i=o.shift();++a<s.length;)!1===s[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=s.length,i=!1);e.memory||(i=!1),t=!1,r&&(s=i?[]:"")},h={add:function(){return s&&(i&&!t&&(a=s.length-1,o.push(i)),function t(i){b.each(i,function(i,n){b.isFunction(n)?e.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==b.type(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return b.each(arguments,function(e,t){for(var i;(i=b.inArray(t,s,i))>-1;)s.splice(i,1),i<=a&&a--}),this},has:function(e){return e?b.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=o=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=o=[],i||t||(s=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],o.push(i),t||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},b.extend({Deferred:function(e){var t=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return b.Deferred(function(i){b.each(t,function(t,n){var r=b.isFunction(e[n[4]])&&e[n[4]];s[n[1]](function(){var e=r&&r.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var s=0;function o(e,t,n,r){return function(){var a=this,l=arguments,h=function(){var i,h;if(!(e<s)){if((i=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");h=i&&("object"==typeof i||"function"==typeof i)&&i.then,b.isFunction(h)?r?h.call(i,o(s,t,F,r),o(s,t,M,r)):(s++,h.call(i,o(s,t,F,r),o(s,t,M,r),o(s,t,F,t.notifyWith))):(n!==F&&(a=void 0,l=[i]),(r||t.resolveWith)(a,l))}},u=r?h:function(){try{h()}catch(i){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(i,u.stackTrace),e+1>=s&&(n!==M&&(a=void 0,l=[i]),t.rejectWith(a,l))}};e?u():(b.Deferred.getStackHook&&(u.stackTrace=b.Deferred.getStackHook()),i.setTimeout(u))}}return b.Deferred(function(i){t[0][3].add(o(0,i,b.isFunction(r)?r:F,i.notifyWith)),t[1][3].add(o(0,i,b.isFunction(e)?e:F)),t[2][3].add(o(0,i,b.isFunction(n)?n:M))}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},s={};return b.each(t,function(e,i){var o=i[2],a=i[5];r[i[1]]=o.add,a&&o.add(function(){n=a},t[3-e][2].disable,t[0][2].lock),o.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=o.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,i=t,n=Array(i),r=l.call(arguments),s=b.Deferred(),o=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?l.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(V(e,s.done(o(i)).resolve,s.reject,!t),"pending"===s.state()||b.isFunction(r[i]&&r[i].then)))return s.then();for(;i--;)V(r[i],o(i),s.reject);return s.promise()}});var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&R.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},b.readyException=function(e){i.setTimeout(function(){throw e})};var z=b.Deferred();function W(){o.removeEventListener("DOMContentLoaded",W),i.removeEventListener("load",W),b.ready()}b.fn.ready=function(e){return z.then(e).catch(function(e){b.readyException(e)}),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==e&&--b.readyWait>0||z.resolveWith(o,[b]))}}),b.ready.then=z.then,"complete"===o.readyState||"loading"!==o.readyState&&!o.documentElement.doScroll?i.setTimeout(b.ready):(o.addEventListener("DOMContentLoaded",W),i.addEventListener("load",W));var U=function(e,t,i,n,r,s,o){var a=0,l=e.length,h=null==i;if("object"===b.type(i))for(a in r=!0,i)U(e,t,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,b.isFunction(n)||(o=!0),h&&(o?(t.call(e,n),t=null):(h=t,t=function(e,t,i){return h.call(b(e),i)})),t))for(;a<l;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:h?t.call(e):l?t(e[0],i):s},$=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=b.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[b.camelCase(t)]=i;else for(n in t)r[b.camelCase(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(b.camelCase):(t=b.camelCase(t))in n?[t]:t.match(q)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||b.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var G=new J,X=new J,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function Q(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Y.test(e)?JSON.parse(e):e)}(i)}catch(e){}X.set(e,t,i)}else i=void 0;return i}b.extend({hasData:function(e){return X.hasData(e)||G.hasData(e)},data:function(e,t,i){return X.access(e,t,i)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,i){return G.access(e,t,i)},_removeData:function(e,t){G.remove(e,t)}}),b.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=X.get(s),1===s.nodeType&&!G.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=b.camelCase(n.slice(5)),Q(s,n,r[n]));G.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){X.set(this,e)}):U(this,function(t){var i;if(s&&void 0===t)return void 0!==(i=X.get(s,e))?i:void 0!==(i=Q(s,e))?i:void 0;this.each(function(){X.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),b.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=G.get(e,t),i&&(!n||Array.isArray(i)?n=G.access(e,t,b.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=b.queue(e,t),n=i.length,r=i.shift(),s=b._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,function(){b.dequeue(e,t)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return G.get(e,i)||G.access(e,i,{empty:b.Callbacks("once memory").add(function(){G.remove(e,[t+"queue",i])})})}}),b.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?b.queue(this[0],e):void 0===t?this:this.each(function(){var i=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=b.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=G.get(s[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var K=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+K+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&b.contains(e.ownerDocument,e)&&"none"===b.css(e,"display")},ne=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in r=i.apply(e,n||[]),t)e.style[s]=o[s];return r};function re(e,t,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return b.css(e,t,"")},l=a(),h=i&&i[3]||(b.cssNumber[t]?"":"px"),u=(b.cssNumber[t]||"px"!==h&&+l)&&ee.exec(b.css(e,t));if(u&&u[3]!==h){h=h||u[3],i=i||[],u=+l||1;do{u/=s=s||".5",b.style(e,t,u+h)}while(s!==(s=a()/l)&&1!==s&&--o)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=u,n.end=r)),r}var se={};function oe(e){var t,i=e.ownerDocument,n=e.nodeName,r=se[n];return r||(t=i.body.appendChild(i.createElement(n)),r=b.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),se[n]=r,r)}function ae(e,t){for(var i,n,r=[],s=0,o=e.length;s<o;s++)(n=e[s]).style&&(i=n.style.display,t?("none"===i&&(r[s]=G.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&ie(n)&&(r[s]=oe(n))):"none"!==i&&(r[s]="none",G.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}b.fn.extend({show:function(){return ae(this,!0)},hide:function(){return ae(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?b(this).show():b(this).hide()})}});var le=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ue=/^$|\/(?:java|ecma)script/i,de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?b.merge([e],i):i}function pe(e,t){for(var i=0,n=e.length;i<n;i++)G.set(e[i],"globalEval",!t||G.get(t[i],"globalEval"))}de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td;var fe,me,ge=/<|&#?\w+;/;function ye(e,t,i,n,r){for(var s,o,a,l,h,u,d=t.createDocumentFragment(),c=[],p=0,f=e.length;p<f;p++)if((s=e[p])||0===s)if("object"===b.type(s))b.merge(c,s.nodeType?[s]:s);else if(ge.test(s)){for(o=o||d.appendChild(t.createElement("div")),a=(he.exec(s)||["",""])[1].toLowerCase(),l=de[a]||de._default,o.innerHTML=l[1]+b.htmlPrefilter(s)+l[2],u=l[0];u--;)o=o.lastChild;b.merge(c,o.childNodes),(o=d.firstChild).textContent=""}else c.push(t.createTextNode(s));for(d.textContent="",p=0;s=c[p++];)if(n&&b.inArray(s,n)>-1)r&&r.push(s);else if(h=b.contains(s.ownerDocument,s),o=ce(d.appendChild(s),"script"),h&&pe(o),i)for(u=0;s=o[u++];)ue.test(s.type||"")&&i.push(s);return d}fe=o.createDocumentFragment().appendChild(o.createElement("div")),(me=o.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),fe.appendChild(me),y.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue;var ve=o.documentElement,be=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function Ce(){return!1}function Ee(){try{return o.activeElement}catch(e){}}function ke(e,t,i,n,r,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)ke(e,a,i,n,t[a],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Ce;else if(!r)return e;return 1===s&&(o=r,(r=function(e){return b().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=b.guid++)),e.each(function(){b.event.add(this,t,r,n,i)})}b.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,h,u,d,c,p,f,m,g=G.get(e);if(g)for(i.handler&&(i=(s=i).handler,r=s.selector),r&&b.find.matchesSelector(ve,r),i.guid||(i.guid=b.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return void 0!==b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match(q)||[""]).length;h--;)p=m=(a=we.exec(t[h])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=b.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=b.event.special[p]||{},u=b.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&b.expr.match.needsContext.test(r),namespace:f.join(".")},s),(c=l[p])||((c=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?c.splice(c.delegateCount++,0,u):c.push(u),b.event.global[p]=!0)},remove:function(e,t,i,n,r){var s,o,a,l,h,u,d,c,p,f,m,g=G.hasData(e)&&G.get(e);if(g&&(l=g.events)){for(h=(t=(t||"").match(q)||[""]).length;h--;)if(p=m=(a=we.exec(t[h])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=b.event.special[p]||{},c=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=c.length;s--;)u=c[s],!r&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(c.splice(s,1),u.selector&&c.delegateCount--,d.remove&&d.remove.call(e,u));o&&!c.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||b.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)b.event.remove(e,p+t[h],i,n,!0);b.isEmptyObject(l)&&G.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,s,o,a=b.event.fix(e),l=new Array(arguments.length),h=(G.get(this,"events")||{})[a.type]||[],u=b.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(o=b.event.handlers.call(this,a,h),t=0;(r=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(n=((b.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,r,s,o,a=[],l=t.delegateCount,h=e.target;if(l&&h.nodeType&&!("click"===e.type&&e.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==e.type||!0!==h.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[r=(n=t[i]).selector+" "]&&(o[r]=n.needsContext?b(r,this).index(h)>-1:b.find(r,this,null,[h]).length),o[r]&&s.push(n);s.length&&a.push({elem:h,handlers:s})}return h=this,l<t.length&&a.push({elem:h,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:b.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(e){return A(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},b.event.addProp),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||b.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),b.fn.extend({on:function(e,t,i,n){return ke(this,e,t,i,n)},one:function(e,t,i,n){return ke(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,b(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Ce),this.each(function(){b.event.remove(this,e,i,t)})}});var Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^true\/(.*)/,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&b(">tbody",e)[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){var t=Ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pe(e,t){var i,n,r,s,o,a,l,h;if(1===t.nodeType){if(G.hasData(e)&&(s=G.access(e),o=G.set(t,s),h=s.events))for(r in delete o.handle,o.events={},h)for(i=0,n=h[r].length;i<n;i++)b.event.add(t,r,h[r][i]);X.hasData(e)&&(a=X.access(e),l=b.extend({},a),X.set(t,l))}}function He(e,t,i,n){t=h.apply([],t);var r,s,o,a,l,u,d=0,c=e.length,p=c-1,f=t[0],m=b.isFunction(f);if(m||c>1&&"string"==typeof f&&!y.checkClone&&je.test(f))return e.each(function(r){var s=e.eq(r);m&&(t[0]=f.call(this,r,s.html())),He(s,t,i,n)});if(c&&(s=(r=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(a=(o=b.map(ce(r,"script"),Ie)).length;d<c;d++)l=r,d!==p&&(l=b.clone(l,!0,!0),a&&b.merge(o,ce(l,"script"))),i.call(e[d],l,d);if(a)for(u=o[o.length-1].ownerDocument,b.map(o,Le),d=0;d<a;d++)l=o[d],ue.test(l.type||"")&&!G.access(l,"globalEval")&&b.contains(u,l)&&(l.src?b._evalUrl&&b._evalUrl(l.src):v(l.textContent.replace(Se,""),u))}return e}function De(e,t,i){for(var n,r=t?b.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||b.cleanData(ce(n)),n.parentNode&&(i&&b.contains(n.ownerDocument,n)&&pe(ce(n,"script")),n.parentNode.removeChild(n));return e}b.extend({htmlPrefilter:function(e){return e.replace(Te,"<$1></$2>")},clone:function(e,t,i){var n,r,s,o,a,l,h,u=e.cloneNode(!0),d=b.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(o=ce(u),n=0,r=(s=ce(e)).length;n<r;n++)a=s[n],l=o[n],void 0,"input"===(h=l.nodeName.toLowerCase())&&le.test(a.type)?l.checked=a.checked:"input"!==h&&"textarea"!==h||(l.defaultValue=a.defaultValue);if(t)if(i)for(s=s||ce(e),o=o||ce(u),n=0,r=s.length;n<r;n++)Pe(s[n],o[n]);else Pe(e,u);return(o=ce(u,"script")).length>0&&pe(o,!d&&ce(e,"script")),u},cleanData:function(e){for(var t,i,n,r=b.event.special,s=0;void 0!==(i=e[s]);s++)if($(i)){if(t=i[G.expando]){if(t.events)for(n in t.events)r[n]?b.event.remove(i,n):b.removeEvent(i,n,t.handle);i[G.expando]=void 0}i[X.expando]&&(i[X.expando]=void 0)}}}),b.fn.extend({detach:function(e){return De(this,e,!0)},remove:function(e){return De(this,e)},text:function(e){return U(this,function(e){return void 0===e?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!de[(he.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(b.cleanData(ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return He(this,arguments,function(t){var i=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(ce(this)),i&&i.replaceChild(t,this))},e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){for(var i,n=[],r=b(e),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),b(r[o])[t](i),u.apply(n,i.get());return this.pushStack(n)}});var Be=/^margin/,qe=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)};function Me(e,t,i){var n,r,s,o,a=e.style;return(i=i||Fe(e))&&(""!==(o=i.getPropertyValue(t)||i[t])||b.contains(e.ownerDocument,e)||(o=b.style(e,t)),!y.pixelMarginRight()&&qe.test(o)&&Be.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",ve.appendChild(a);var e=i.getComputedStyle(l);t="1%"!==e.top,s="2px"===e.marginLeft,n="4px"===e.width,l.style.marginRight="50%",r="4px"===e.marginRight,ve.removeChild(a),l=null}}var t,n,r,s,a=o.createElement("div"),l=o.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(l),b.extend(y,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),s}}))}();var Re=/^(none|table(?!-c[ea]).+)/,ze=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ue={letterSpacing:"0",fontWeight:"400"},$e=["Webkit","Moz","ms"],Je=o.createElement("div").style;function Ge(e){var t=b.cssProps[e];return t||(t=b.cssProps[e]=function(e){if(e in Je)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=$e.length;i--;)if((e=$e[i]+t)in Je)return e}(e)||e),t}function Xe(e,t,i){var n=ee.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Ye(e,t,i,n,r){var s,o=0;for(s=i===(n?"border":"content")?4:"width"===t?1:0;s<4;s+=2)"margin"===i&&(o+=b.css(e,i+te[s],!0,r)),n?("content"===i&&(o-=b.css(e,"padding"+te[s],!0,r)),"margin"!==i&&(o-=b.css(e,"border"+te[s]+"Width",!0,r))):(o+=b.css(e,"padding"+te[s],!0,r),"padding"!==i&&(o+=b.css(e,"border"+te[s]+"Width",!0,r)));return o}function Ze(e,t,i){var n,r=Fe(e),s=Me(e,t,r),o="border-box"===b.css(e,"boxSizing",!1,r);return qe.test(s)?s:(n=o&&(y.boxSizingReliable()||s===e.style[t]),"auto"===s&&(s=e["offset"+t[0].toUpperCase()+t.slice(1)]),(s=parseFloat(s)||0)+Ye(e,t,i||(o?"border":"content"),n,r)+"px")}function Qe(e,t,i,n,r){return new Qe.prototype.init(e,t,i,n,r)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Me(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=b.camelCase(t),l=ze.test(t),h=e.style;if(l||(t=Ge(a)),o=b.cssHooks[t]||b.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:h[t];"string"===(s=typeof i)&&(r=ee.exec(i))&&r[1]&&(i=re(e,t,r),s="number"),null!=i&&i==i&&("number"===s&&(i+=r&&r[3]||(b.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==i||0!==t.indexOf("background")||(h[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l?h.setProperty(t,i):h[t]=i))}},css:function(e,t,i,n){var r,s,o,a=b.camelCase(t);return ze.test(t)||(t=Ge(a)),(o=b.cssHooks[t]||b.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=Me(e,t,n)),"normal"===r&&t in Ue&&(r=Ue[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,i,n){if(i)return!Re.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,n):ne(e,We,function(){return Ze(e,t,n)})},set:function(e,i,n){var r,s=n&&Fe(e),o=n&&Ye(e,t,n,"border-box"===b.css(e,"boxSizing",!1,s),s);return o&&(r=ee.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=b.css(e,t)),Xe(0,i,o)}}}),b.cssHooks.marginLeft=Ve(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Me(e,"marginLeft"))||e.getBoundingClientRect().left-ne(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+te[n]+t]=s[n]||s[n-2]||s[0];return r}},Be.test(e)||(b.cssHooks[e+t].set=Xe)}),b.fn.extend({css:function(e,t){return U(this,function(e,t,i){var n,r,s={},o=0;if(Array.isArray(t)){for(n=Fe(e),r=t.length;o<r;o++)s[t[o]]=b.css(e,t[o],!1,n);return s}return void 0!==i?b.style(e,t,i):b.css(e,t)},e,t,arguments.length>1)}}),b.Tween=Qe,Qe.prototype={constructor:Qe,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(b.cssNumber[i]?"":"px")},cur:function(){var e=Qe.propHooks[this.prop];return e&&e.get?e.get(this):Qe.propHooks._default.get(this)},run:function(e){var t,i=Qe.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Qe.propHooks._default.set(this),this}},Qe.prototype.init.prototype=Qe.prototype,Qe.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[b.cssProps[e.prop]]&&!b.cssHooks[e.prop]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}},Qe.propHooks.scrollTop=Qe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=Qe.prototype.init,b.fx.step={};var Ke,et,tt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function nt(){et&&(!1===o.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(nt):i.setTimeout(nt,b.fx.interval),b.fx.tick())}function rt(){return i.setTimeout(function(){Ke=void 0}),Ke=b.now()}function st(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=te[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function ot(e,t,i){for(var n,r=(at.tweeners[t]||[]).concat(at.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,t,e))return n}function at(e,t,i){var n,r,s=0,o=at.prefilters.length,a=b.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ke||rt(),i=Math.max(0,h.startTime+h.duration-t),n=1-(i/h.duration||0),s=0,o=h.tweens.length;s<o;s++)h.tweens[s].run(n);return a.notifyWith(e,[h,n,i]),n<1&&o?i:(o||a.notifyWith(e,[h,1,0]),a.resolveWith(e,[h]),!1)},h=a.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},i),originalProperties:t,originalOptions:i,startTime:Ke||rt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=b.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var i=0,n=t?h.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)h.tweens[i].run(1);return t?(a.notifyWith(e,[h,1,0]),a.resolveWith(e,[h,t])):a.rejectWith(e,[h,t]),this}}),u=h.props;for(!function(e,t){var i,n,r,s,o;for(i in e)if(r=t[n=b.camelCase(i)],s=e[i],Array.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(o=b.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=r);else t[n]=r}(u,h.opts.specialEasing);s<o;s++)if(n=at.prefilters[s].call(h,e,u,h.opts))return b.isFunction(n.stop)&&(b._queueHooks(h.elem,h.opts.queue).stop=b.proxy(n.stop,n)),n;return b.map(u,ot,h),b.isFunction(h.opts.start)&&h.opts.start.call(e,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),b.fx.timer(b.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h}b.Animation=b.extend(at,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return re(i.elem,e,ee.exec(t),i),i}]},tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.match(q);for(var i,n=0,r=e.length;n<r;n++)i=e[n],at.tweeners[i]=at.tweeners[i]||[],at.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,s,o,a,l,h,u,d="width"in t||"height"in t,c=this,p={},f=e.style,m=e.nodeType&&ie(e),g=G.get(e,"fxshow");for(n in i.queue||(null==(o=b._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,b.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[n],tt.test(r)){if(delete t[n],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||b.style(e,n)}if((l=!b.isEmptyObject(t))||!b.isEmptyObject(p))for(n in d&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(h=g&&g.display)&&(h=G.get(e,"display")),"none"===(u=b.css(e,"display"))&&(h?u=h:(ae([e],!0),h=e.style.display||h,u=b.css(e,"display"),ae([e]))),("inline"===u||"inline-block"===u&&null!=h)&&"none"===b.css(e,"float")&&(l||(c.done(function(){f.display=h}),null==h&&(u=f.display,h="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=G.access(e,"fxshow",{display:h}),s&&(g.hidden=!m),m&&ae([e],!0),c.done(function(){for(n in m||ae([e]),G.remove(e,"fxshow"),p)b.style(e,n,p[n])})),l=ot(m?g[n]:0,n,c),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?at.prefilters.unshift(e):at.prefilters.push(e)}}),b.speed=function(e,t,i){var n=e&&"object"==typeof e?b.extend({},e):{complete:i||!i&&t||b.isFunction(e)&&e,duration:e,easing:i&&t||t&&!b.isFunction(t)&&t};return b.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in b.fx.speeds?n.duration=b.fx.speeds[n.duration]:n.duration=b.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){b.isFunction(n.old)&&n.old.call(this),n.queue&&b.dequeue(this,n.queue)},n},b.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=b.isEmptyObject(e),s=b.speed(t,i,n),o=function(){var t=at(this,b.extend({},e),s);(r||G.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=b.timers,o=G.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&it.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));!t&&i||b.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=G.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=b.timers,o=n?n.length:0;for(i.finish=!0,b.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),b.each(["toggle","show","hide"],function(e,t){var i=b.fn[t];b.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(t,!0),e,n,r)}}),b.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),b.timers=[],b.fx.tick=function(){var e,t=0,i=b.timers;for(Ke=b.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||b.fx.stop(),Ke=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){et||(et=!0,nt())},b.fx.stop=function(){et=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,t){return e=b.fx&&b.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=o.createElement("input"),t=o.createElement("select").appendChild(o.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=o.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var lt,ht=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return U(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}}),b.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?b.prop(e,t,i):(1===s&&b.isXMLDoc(e)||(r=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?lt:void 0)),void 0!==i?null===i?void b.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=b.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(q);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),lt={set:function(e,t,i){return!1===t?b.removeAttr(e,i):e.setAttribute(i,i),i}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ht[t]||b.find.attr;ht[t]=function(e,t,n){var r,s,o=t.toLowerCase();return n||(s=ht[o],ht[o]=r,r=null!=i(e,t,n)?o:null,ht[o]=s),r}});var ut=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ct(e){return(e.match(q)||[]).join(" ")}function pt(e){return e.getAttribute&&e.getAttribute("class")||""}b.fn.extend({prop:function(e,t){return U(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}}),b.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&b.isXMLDoc(e)||(t=b.propFix[t]||t,r=b.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(e){var t,i,n,r,s,o,a,l=0;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,pt(this)))});if("string"==typeof e&&e)for(t=e.match(q)||[];i=this[l++];)if(r=pt(i),n=1===i.nodeType&&" "+ct(r)+" "){for(o=0;s=t[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(a=ct(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,r,s,o,a,l=0;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,pt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(q)||[];i=this[l++];)if(r=pt(i),n=1===i.nodeType&&" "+ct(r)+" "){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r!==(a=ct(n))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):b.isFunction(e)?this.each(function(i){b(this).toggleClass(e.call(this,i,pt(this),t),t)}):this.each(function(){var t,n,r,s;if("string"===i)for(n=0,r=b(this),s=e.match(q)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=pt(this))&&G.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":G.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+ct(pt(i))+" ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g;b.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=b.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,b(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=b.map(r,function(e){return null==e?"":e+""})),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(ft,""):null==i?"":i:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:ct(b.text(e))}},select:{get:function(e){var t,i,n,r=e.options,s=e.selectedIndex,o="select-one"===e.type,a=o?null:[],l=o?s+1:r.length;for(n=s<0?l:o?s:0;n<l;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(t=b(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,s=b.makeArray(t),o=r.length;o--;)((n=r[o]).selected=b.inArray(b.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=b.inArray(b(e).val(),t)>-1}},y.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;b.extend(b.event,{trigger:function(e,t,n,r){var s,a,l,h,u,d,c,p=[n||o],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(a=l=n=n||o,3!==n.nodeType&&8!==n.nodeType&&!mt.test(m+b.event.triggered)&&(m.indexOf(".")>-1&&(m=(g=m.split(".")).shift(),g.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[b.expando]?e:new b.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:b.makeArray(t,[e]),c=b.event.special[m]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!b.isWindow(n)){for(h=c.delegateType||m,mt.test(h+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(n.ownerDocument||o)&&p.push(l.defaultView||l.parentWindow||i)}for(s=0;(a=p[s++])&&!e.isPropagationStopped();)e.type=s>1?h:c.bindType||m,(d=(G.get(a,"events")||{})[e.type]&&G.get(a,"handle"))&&d.apply(a,t),(d=u&&a[u])&&d.apply&&$(a)&&(e.result=d.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&b.isFunction(n[m])&&!b.isWindow(n)&&((l=n[u])&&(n[u]=null),b.event.triggered=m,n[m](),b.event.triggered=void 0,l&&(n[u]=l)),e.result}},simulate:function(e,t,i){var n=b.extend(new b.Event,i,{type:e,isSimulated:!0});b.event.trigger(n,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return b.event.trigger(e,t,i,!0)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){b.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.focusin="onfocusin"in i,y.focusin||b.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=G.access(n,t);r||n.addEventListener(e,i,!0),G.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=G.access(n,t)-1;r?G.access(n,t,r):(n.removeEventListener(e,i,!0),G.remove(n,t))}}});var gt=i.location,yt=b.now(),vt=/\?/;b.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+e),t};var bt=/\[\]$/,_t=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function Ct(e,t,i,n){var r;if(Array.isArray(t))b.each(t,function(t,r){i||bt.test(e)?n(e,r):Ct(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==b.type(t))n(e,t);else for(r in t)Ct(e+"["+r+"]",t[r],i,n)}b.param=function(e,t){var i,n=[],r=function(e,t){var i=b.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){r(this.name,this.value)});else for(i in e)Ct(i,e[i],t,r);return n.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&xt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!le.test(e))}).map(function(e,t){var i=b(this).val();return null==i?null:Array.isArray(i)?b.map(i,function(e){return{name:t.name,value:e.replace(_t,"\r\n")}}):{name:t.name,value:i.replace(_t,"\r\n")}}).get()}});var Et=/%20/g,kt=/#.*$/,Tt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,At=/^\/\//,St={},Ot={},It="*/".concat("*"),Lt=o.createElement("a");function Pt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(q)||[];if(b.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Ht(e,t,i,n){var r={},s=e===Ot;function o(a){var l;return r[a]=!0,b.each(e[a]||[],function(e,a){var h=a(t,i,n);return"string"!=typeof h||s||r[h]?s?!(l=h):void 0:(t.dataTypes.unshift(h),o(h),!1)}),l}return o(t.dataTypes[0])||!r["*"]&&o("*")}function Dt(e,t){var i,n,r=b.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&b.extend(!0,e,n),e}Lt.href=gt.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Dt(Dt(e,b.ajaxSettings),t):Dt(b.ajaxSettings,e)},ajaxPrefilter:Pt(St),ajaxTransport:Pt(Ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,s,a,l,h,u,d,c,p,f=b.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?b(m):b.event,y=b.Deferred(),v=b.Callbacks("once memory"),_=f.statusCode||{},w={},x={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Nt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),k(0,t),this}};if(y.promise(E),f.url=((e||f.url||gt.href)+"").replace(At,gt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(q)||[""],null==f.crossDomain){h=o.createElement("a");try{h.href=f.url,h.href=h.href,f.crossDomain=Lt.protocol+"//"+Lt.host!=h.protocol+"//"+h.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=b.param(f.data,f.traditional)),Ht(St,f,t,E),u)return E;for(c in(d=b.event&&f.global)&&0==b.active++&&b.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!jt.test(f.type),r=f.url.replace(kt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Et,"+")):(p=f.url.slice(r.length),f.data&&(r+=(vt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Tt,"$1"),p=(vt.test(r)?"&":"?")+"_="+yt+++p),f.url=r+p),f.ifModified&&(b.lastModified[r]&&E.setRequestHeader("If-Modified-Since",b.lastModified[r]),b.etag[r]&&E.setRequestHeader("If-None-Match",b.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+It+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(m,E,f)||u))return E.abort();if(C="abort",v.add(f.complete),E.done(f.success),E.fail(f.error),n=Ht(Ot,f,t,E)){if(E.readyState=1,d&&g.trigger("ajaxSend",[E,f]),u)return E;f.async&&f.timeout>0&&(l=i.setTimeout(function(){E.abort("timeout")},f.timeout));try{u=!1,n.send(w,k)}catch(e){if(u)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,o,a){var h,c,p,w,x,C=t;u||(u=!0,l&&i.clearTimeout(l),n=void 0,s=a||"",E.readyState=e>0?4:0,h=e>=200&&e<300||304===e,o&&(w=function(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(f,E,o)),w=function(e,t,i,n){var r,s,o,a,l,h={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)h[o.toLowerCase()]=e.converters[o];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=h[l+" "+s]||h["* "+s]))for(r in h)if((a=r.split(" "))[1]===s&&(o=h[l+" "+a[0]]||h["* "+a[0]])){!0===o?o=h[r]:!0!==h[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,w,E,h),h?(f.ifModified&&((x=E.getResponseHeader("Last-Modified"))&&(b.lastModified[r]=x),(x=E.getResponseHeader("etag"))&&(b.etag[r]=x)),204===e||"HEAD"===f.type?C="nocontent":304===e?C="notmodified":(C=w.state,c=w.data,h=!(p=w.error))):(p=C,!e&&C||(C="error",e<0&&(e=0))),E.status=e,E.statusText=(t||C)+"",h?y.resolveWith(m,[c,C,E]):y.rejectWith(m,[E,C,p]),E.statusCode(_),_=void 0,d&&g.trigger(h?"ajaxSuccess":"ajaxError",[E,f,h?c:p]),v.fireWith(m,[E,C]),d&&(g.trigger("ajaxComplete",[E,f]),--b.active||b.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,i){return b.get(e,t,i,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],function(e,t){b[t]=function(e,i,n,r){return b.isFunction(i)&&(r=r||n,n=i,i=void 0),b.ajax(b.extend({url:e,type:t,dataType:r,data:i,success:n},b.isPlainObject(e)&&e))}}),b._evalUrl=function(e){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(b.isFunction(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(i){b(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},qt=b.ajaxSettings.xhr();y.cors=!!qt&&"withCredentials"in qt,y.ajax=qt=!!qt,b.ajaxTransport(function(e){var t,n;if(y.cors||qt&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Bt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),b.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),b.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(n,r){t=b("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){i&&i()}}});var Ft,Mt=[],Vt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||b.expando+"_"+yt++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(e,t,n){var r,s,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=b.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(vt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||b.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=i[r],i[r]=function(){o=arguments},n.always(function(){void 0===s?b(i).removeProp(r):i[r]=s,e[r]&&(e.jsonpCallback=t.jsonpCallback,Mt.push(r)),o&&b.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),y.createHTMLDocument=((Ft=o.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ft.childNodes.length),b.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(y.createHTMLDocument?((n=(t=o.implementation.createHTMLDocument("")).createElement("base")).href=o.location.href,t.head.appendChild(n)):t=o),r=S.exec(e),s=!i&&[],r?[t.createElement(r[1])]:(r=ye([e],t,s),s&&s.length&&b(s).remove(),b.merge([],r.childNodes)));var n,r,s},b.fn.load=function(e,t,i){var n,r,s,o=this,a=e.indexOf(" ");return a>-1&&(n=ct(e.slice(a)),e=e.slice(0,a)),b.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&b.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(n?b("<div>").append(b.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,s||[e.responseText,t,e])})}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.expr.pseudos.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length},b.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,h=b.css(e,"position"),u=b(e),d={};"static"===h&&(e.style.position="relative"),a=u.offset(),s=b.css(e,"top"),l=b.css(e,"left"),("absolute"===h||"fixed"===h)&&(s+l).indexOf("auto")>-1?(o=(n=u.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),b.isFunction(t)&&(t=t.call(e,i,b.extend({},a))),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){b.offset.setOffset(this,e,t)});var t,i,n,r,s=this[0];return s?s.getClientRects().length?(n=s.getBoundingClientRect(),i=(t=s.ownerDocument).documentElement,r=t.defaultView,{top:n.top+r.pageYOffset-i.clientTop,left:n.left+r.pageXOffset-i.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===b.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),A(e[0],"html")||(n=e.offset()),n={top:n.top+b.css(e[0],"borderTopWidth",!0),left:n.left+b.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-b.css(i,"marginTop",!0),left:t.left-n.left-b.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||ve})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;b.fn[e]=function(n){return U(this,function(e,n,r){var s;if(b.isWindow(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):e[n]=r},e,n,arguments.length)}}),b.each(["top","left"],function(e,t){b.cssHooks[t]=Ve(y.pixelPosition,function(e,i){if(i)return i=Me(e,t),qe.test(i)?b(e).position()[t]+"px":i})}),b.each({Height:"height",Width:"width"},function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){b.fn[n]=function(r,s){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===s?"margin":"border");return U(this,function(t,i,r){var s;return b.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?b.css(t,i,a):b.style(t,i,r,a)},t,o?r:void 0,o)}})}),b.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=A,void 0===(n=function(){return b}.apply(t,[]))||(e.exports=n);var Rt=i.jQuery,zt=i.$;return b.noConflict=function(e){return i.$===b&&(i.$=zt),e&&i.jQuery===b&&(i.jQuery=Rt),b},r||(i.jQuery=i.$=b),b})},21:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},23:function(e,t){e.exports=window.ENV},26:function(e,t,i){var n,r;!function(s){if(void 0===(r="function"==typeof(n=s)?n.call(t,i,t,e):n)||(e.exports=r),!0,e.exports=s(),!!0){var o=window.Cookies,a=window.Cookies=s();a.noConflict=function(){return window.Cookies=o,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}return function t(i){function n(t,r,s){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},n.defaults,s)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}s.expires=s.expires?s.expires.toUTCString():"";try{o=JSON.stringify(r),/^[\{\[]/.test(o)&&(r=o)}catch(e){}r=i.write?i.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var h in s)s[h]&&(l+="; "+h,!0!==s[h]&&(l+="="+s[h]));return document.cookie=t+"="+r+l}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,c=0;c<u.length;c++){var p=u[c].split("="),f=p.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var m=p[0].replace(d,decodeURIComponent);if(f=i.read?i.read(f,m):i(f,m)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===m){o=f;break}t||(o[m]=f)}catch(e){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}(function(){})})},34:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){if(__p+="<h1>"+(null==(__t=breadcrumbTitle)?"":__t)+'</h1>\n<ol class="breadcrumb">\n  <li>\n    <a href="/"><i class="fa fa-home"></i>Home</a>\n  </li>\n',null==pages||0==pages.length)var pages=[{path:"",title:breadcrumbTitle}];for(let i=0;i<pages.length;i++)i<pages.length-1?__p+="\n  <li>\n    <a href='"+(null==(__t=pages[i].path)?"":__t)+"'>"+(null==(__t=pages[i].title)?"":__t)+"</a>\n  </li>\n":__p+='\n  <li class="active">'+(null==(__t=pages[i].title)?"":__t)+"</li>\n";__p+="\n</ol>"}return __p}},348:function(e,t,i){(function(t,n){i(349),i(149);const r=i(34),s=i(96),o=i(350),a=i(107),l=i(23),h=i(44),u=i(351),d=i(57),c=o({breadcrumb:r,loading:s});let p,f;const m=e=>{h.checkToken(i=>{const r=t.get("user");a.showLoading(),n.ajax({url:`${l.restServerUri}/api/v1/user/${r}/jobs/${e.jobName}`,data:JSON.stringify(e),headers:{Authorization:`Bearer ${i}`},contentType:"application/json; charset=utf-8",type:"PUT",dataType:"json",success:e=>{a.hideLoading(),e.error?(alert(e.message),n("#submitHint").text(e.message)):(alert("submit success"),n("#submitHint").text("submitted successfully!")),window.location.replace("/view.html")},error:(e,t,i)=>{a.hideLoading();const n=JSON.parse(e.responseText);alert(n.message)}})})},g=()=>{let e=window.innerHeight;n("#editor-holder")[0].style.height=e-300+"px"};n("#sidebar-menu--submit-job").addClass("active"),n("#content-wrapper").html(c),n(document).ready(()=>{h.checkToken(function(e){(()=>{let e=n("#editor-holder")[0];p=new JSONEditor(e,{schema:u,theme:"bootstrap3",iconlib:"bootstrap3",disable_array_reorder:!0,no_additional_properties:!0,show_errors:"always"}),f=p.getValue()})(),p.on("change",()=>{n("#submitJob").prop("disabled",0!=p.validate().length)}),n(document).on("change","#fileUpload",e=>{const t=new FileReader;t.onload=(e=>{const t=e.target.result;(e=>{let t=!0,i=null;try{let n=JSON.parse(e);(i=p.validate(n)).length&&(t=!1,i=i[0].path.replace("root.","")+": "+i[0].message)}catch(e){i=e.message,t=!1}return t||alert("Please upload a valid json file: "+i),t})(t)&&p.setValue(Object.assign({},f,JSON.parse(t)))}),t.readAsText(e.target.files[0]),n("#fileUpload").val("")}),n(document).on("click","#submitJob",()=>{m(p.getValue())}),n(document).on("click","#fileExport",()=>{((e,t,i)=>{let n=new Blob([e],{type:i});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{let e=document.createElement("a"),i=URL.createObjectURL(n);e.href=i,e.download=t,document.body.appendChild(e),e.click(),setTimeout(function(){document.body.removeChild(e),window.URL.revokeObjectURL(i)},0)}})(JSON.stringify(p.getValue(),null,4),(p.getEditor("root.jobName").getValue()||"jobconfig")+".json","application/json")}),g(),window.onresize=function(){g()};const t=d.parse(window.location.href,!0).query,i=t.type,r=t.user,s=t.jobname;if(null!=i&&null!=r&&null!=s){const e=""==r?`${l.restServerUri}/api/v1/jobs/${s}/config`:`${l.restServerUri}/api/v1/user/${r}/jobs/${s}/config`;n.ajax({url:e,type:"GET",success:e=>{let t=JSON.parse(e),i=Date.now();t.jobName+=`_${i}`,p.setValue(Object.assign({},f,t))},error:(e,t,i)=>{const n=JSON.parse(e.responseText);"ConfigFileNotFound"===n.message?alert("This job's config file has not been stored."):alert("Error: "+n.message)}})}})}),e.exports={submitJob:m}}).call(t,i(26),i(2))},349:function(e,t){},350:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<section class="content-header">'+(null==(__t=breadcrumb({breadcrumbTitle:"Submit Jobs"}))?"":__t)+'</section>\n\n<section class="content">\n  <div class="box box-primary">\n    <div class="box-body">\n      <div class="row">\n        <div class="form-group col-md-4">\n          <label for="fileUpload">Import Json</label>\n          <input class="btn btn-default" id="fileUpload" type="file" accept=".json">\n        </div>\n        <div class="form-group col-md-4">\n          <label for="fileExport">Export Json</label>\n          <input class="btn btn-default" id="fileExport" type="submit" value="Export">\n        </div>\n      </div>\n      <div class="box-body" id="editor-holder"/>\n      <div class="row">\n        <input class="btn btn-success center-block"  id="submitJob" type="submit" value="Submit" disabled=true>\n        <p id="submitHint" class="help-block"></p>\n      </div>\n    </div>\n  </div>\n  '+(null==(__t=loading())?"":__t)+"\n</section>";return __p}},351:function(e,t){const i={type:"object",format:"grid",title:"Submit Form",properties:{jobName:{type:"string",pattern:"^[A-Za-z0-9-._]+$",propertyOrder:100,options:{grid_columns:4},description:"Name for the job, need to be unique"},image:{type:"string",pattern:"^\\S+$",propertyOrder:110,options:{grid_columns:4},description:"URL pointing to the Docker image for all tasks in the job"},authFile:{type:"string",propertyOrder:120,options:{grid_columns:4},description:"Docker registry authentication file existing on HDFS",default:""},dataDir:{type:"string",propertyOrder:130,options:{grid_columns:4},description:"Data directory existing on HDFS",default:""},outputDir:{type:"string",propertyOrder:140,options:{grid_columns:4},description:"Output directory on HDFS, $PAI_DEFAULT_FS_URI/Output/$jobName will be used if not specified",default:""},codeDir:{type:"string",propertyOrder:150,options:{grid_columns:4},description:"Code directory existing on HDFS",default:""},virtualCluster:{type:"string",propertyOrder:125,options:{grid_columns:4},description:"The virtual cluster job runs on. If omitted, the job will run on default virtual cluster",default:"default"},gpuType:{type:"string",propertyOrder:126,options:{grid_columns:4},description:"If omitted, the job will run on any gpu type",default:""},retryCount:{type:"number",multipleOf:1,minimum:-2,exclusiveMinimum:!1,propertyOrder:127,options:{grid_columns:4},description:"Job retry count, no less than -2",default:0},taskRoles:{type:"array",items:{type:"object",headerTemplate:"{{ self.name }}",format:"grid",options:{disable_edit_json:!0},properties:{name:{type:"string",pattern:"^[A-Za-z0-9._~]+$",description:"Name for the task role, need to be unique with other roles"},taskNumber:{type:"number",multipleOf:1,minimum:0,exclusiveMinimum:!0,description:"Number of tasks for the task role, no less than 1"},cpuNumber:{type:"number",multipleOf:1,minimum:0,exclusiveMinimum:!0,description:"CPU number for one task in the task role, no less than 1"},memoryMB:{type:"number",multipleOf:1,minimum:100,exclusiveMinimum:!1,description:"Memory for one task in the task role, no less than 100"},shmMB:{type:"number",multipleOf:1,minimum:64,exclusiveMinimum:!1,description:"Shared memory for one task in the task role, no more than memory size",default:64},gpuNumber:{type:"number",multipleOf:1,minimum:0,exclusiveMinimum:!1,description:"GPU number for one task in the task role, no less than 0"},minFailedTaskCount:{type:["number","null"],minimum:1,exclusiveMinimum:!1,description:"Number of failed tasks to kill the entire job, null or no less than 1",default:1},minSucceededTaskCount:{type:["number","null"],minimum:1,exclusiveMinimum:!1,description:"Number of succeeded tasks to kill the entire job, null or no less than 1",default:null},command:{type:"string",pattern:"\\S+",format:"textarea",propertyOrder:1001,options:{},description:"Executable command for tasks in the task role, can not be empty"},portList:{type:"array",format:"table",items:{type:"object",headerTemplate:"{{ self.label }}",options:{disable_edit_json:!0},properties:{label:{type:"string",description:"Label name for the port type"},beginAt:{type:"number",multipleOf:1,minimum:0,exclusiveMinimum:!1,description:"The port to begin with in the port type, 0 for random selection"},portNumber:{type:"number",multipleOf:1,minimum:0,exclusiveMinimum:!1,description:"Number of ports for the specific type"}},required:["label","beginAt","portNumber"]},propertyOrder:1002,description:"List of portType to use"}},required:["name","taskNumber","cpuNumber","memoryMB","gpuNumber","command"]},minItems:1,format:"tabs",propertyOrder:1e3,description:"List of taskRole, one task role at least"},jobEnvs:{type:"object",format:"grid",propertyOrder:200,additionalProperties:!0,description:"Job env parameters, which are available in job containers"}},required:["jobName","image","taskRoles"]};e.exports=i},44:function(e,t,i){(function(t){e.exports={checkToken:(e,i=!0)=>{const n=t.get("token");!n&&i?window.location.replace("/login.html?origin="+encodeURIComponent(window.location.href)):e(n)},checkAdmin:()=>"true"===t.get("admin")}}).call(t,i(26))},45:function(e,t,i){"use strict";t.decode=t.parse=i(46),t.encode=t.stringify=i(47)},46:function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,s){t=t||"&",i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var l=1e3;s&&"number"==typeof s.maxKeys&&(l=s.maxKeys);var h=e.length;l>0&&h>l&&(h=l);for(var u=0;u<h;++u){var d,c,p,f,m=e[u].replace(a,"%20"),g=m.indexOf(i);g>=0?(d=m.substr(0,g),c=m.substr(g+1)):(d=m,c=""),p=decodeURIComponent(d),f=decodeURIComponent(c),n(o,p)?r(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},47:function(e,t,i){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,a){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?s(o(e),function(o){var a=encodeURIComponent(n(o))+i;return r(e[o])?s(e[o],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[o]))}).join(t):a?encodeURIComponent(n(a))+i+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var o=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},57:function(e,t,i){"use strict";var n=i(58),r=i(60);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(h),d=["%","/","?",";","#"].concat(u),c=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=i(45);function b(e,t,i){if(e&&r.isObject(e)&&e instanceof s)return e;var n=new s;return n.parse(e,t,i),n}s.prototype.parse=function(e,t,i){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",h=e.split(a);h[0]=h[0].replace(/\\/g,"/");var b=e=h.join(a);if(b=b.trim(),!i&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,b=b.substr(w.length)}if(i||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===b.substr(0,2);!C||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(C||w&&!y[w])){for(var E,k,T=-1,N=0;N<c.length;N++){-1!==(j=b.indexOf(c[N]))&&(-1===T||j<T)&&(T=j)}-1!==(k=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(E=b.slice(0,k),b=b.slice(k+1),this.auth=decodeURIComponent(E)),T=-1;for(N=0;N<d.length;N++){var j;-1!==(j=b.indexOf(d[N]))&&(-1===T||j<T)&&(T=j)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var S=this.hostname.split(/\./),O=(N=0,S.length);N<O;N++){var I=S[N];if(I&&!I.match(p)){for(var L="",P=0,H=I.length;P<H;P++)I.charCodeAt(P)>127?L+="x":L+=I[P];if(!L.match(p)){var D=S.slice(0,N),B=S.slice(N+1),q=I.match(f);q&&(D.push(q[1]),B.unshift(q[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[x])for(N=0,O=u.length;N<O;N++){var V=u[N];if(-1!==b.indexOf(V)){var R=encodeURIComponent(V);R===V&&(R=escape(V)),b=b.split(V).join(R)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var U=this.search||"";this.path=F+U}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==s?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(i=i.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+n},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(r.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var i=new s,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];i[a]=this[a]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),h=0;h<l.length;h++){var u=l[h];"protocol"!==u&&(i[u]=e[u])}return y[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),c=0;c<d.length;c++){var p=d[c];i[p]=e[p]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||g[e.protocol])i.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",v=i.search||"";i.path=m+v}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var b=i.pathname&&"/"===i.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||i.host&&e.pathname,x=w,C=i.pathname&&i.pathname.split("/")||[],E=(f=e.pathname&&e.pathname.split("/")||[],i.protocol&&!y[i.protocol]);if(E&&(i.hostname="",i.port=null,i.host&&(""===C[0]?C[0]=i.host:C.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===C[0])),_)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),i.search=e.search,i.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(E)i.hostname=i.host=C.shift(),(A=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=A.shift(),i.host=i.hostname=A.shift());return i.search=e.search,i.query=e.query,r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!C.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var k=C.slice(-1)[0],T=(i.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,N=0,j=C.length;j>=0;j--)"."===(k=C[j])?C.splice(j,1):".."===k?(C.splice(j,1),N++):N&&(C.splice(j,1),N--);if(!w&&!x)for(;N--;N)C.unshift("..");!w||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),T&&"/"!==C.join("/").substr(-1)&&C.push("");var A,S=""===C[0]||C[0]&&"/"===C[0].charAt(0);E&&(i.hostname=i.host=S?"":C.length?C.shift():"",(A=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=A.shift(),i.host=i.hostname=A.shift()));return(w=w||i.host&&C.length)&&!S&&C.unshift(""),C.length?i.pathname=C.join("/"):(i.pathname=null,i.path=null),r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},58:function(e,t,i){(function(e,n){var r;!function(s){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var a,l=2147483647,h=36,u=1,d=26,c=38,p=700,f=72,m=128,g="-",y=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=h-u,x=Math.floor,C=String.fromCharCode;function E(e){throw new RangeError(_[e])}function k(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function T(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+k((e=e.replace(b,".")).split("."),t).join(".")}function N(e){for(var t,i,n=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function j(e){return k(e,function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)}).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,i){var n=0;for(e=i?x(e/p):e>>1,e+=x(e/t);e>w*d>>1;n+=h)e=x(e/w);return x(n+(w+1)*e/(e+c))}function O(e){var t,i,n,r,s,o,a,c,p,y,v,b=[],_=e.length,w=0,C=m,k=f;for((i=e.lastIndexOf(g))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&E("not-basic"),b.push(e.charCodeAt(n));for(r=i>0?i+1:0;r<_;){for(s=w,o=1,a=h;r>=_&&E("invalid-input"),((c=(v=e.charCodeAt(r++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:h)>=h||c>x((l-w)/o))&&E("overflow"),w+=c*o,!(c<(p=a<=k?u:a>=k+d?d:a-k));a+=h)o>x(l/(y=h-p))&&E("overflow"),o*=y;k=S(w-s,t=b.length+1,0==s),x(w/t)>l-C&&E("overflow"),C+=x(w/t),w%=t,b.splice(w++,0,C)}return j(b)}function I(e){var t,i,n,r,s,o,a,c,p,y,v,b,_,w,k,T=[];for(b=(e=N(e)).length,t=m,i=0,s=f,o=0;o<b;++o)(v=e[o])<128&&T.push(C(v));for(n=r=T.length,r&&T.push(g);n<b;){for(a=l,o=0;o<b;++o)(v=e[o])>=t&&v<a&&(a=v);for(a-t>x((l-i)/(_=n+1))&&E("overflow"),i+=(a-t)*_,t=a,o=0;o<b;++o)if((v=e[o])<t&&++i>l&&E("overflow"),v==t){for(c=i,p=h;!(c<(y=p<=s?u:p>=s+d?d:p-s));p+=h)k=c-y,w=h-y,T.push(C(A(y+k%w,0))),c=x(k/w);T.push(C(A(c,0))),s=S(i,_,n==r),i=0,++n}++i,++t}return T.join("")}a={version:"1.4.1",ucs2:{decode:N,encode:j},decode:O,encode:I,toASCII:function(e){return T(e,function(e){return v.test(e)?"xn--"+I(e):e})},toUnicode:function(e){return T(e,function(e){return y.test(e)?O(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return a}.call(t,i,t,e))||(e.exports=r)}()}).call(t,i(59)(e),i(21))},59:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},60:function(e,t,i){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},96:function(module,exports,__webpack_require__){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="mask" class="mask">\n  <div id="loading" class="loading">\n    <img src="'+(null==(__t=__webpack_require__(97))?"":__t)+'">\n  </div>\n</div>';return __p}},97:function(e,t){e.exports="/assets/img/loading.gif"}});